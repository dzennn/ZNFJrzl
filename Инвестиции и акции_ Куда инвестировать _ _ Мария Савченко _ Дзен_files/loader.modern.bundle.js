(()=>{var e={980:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},179:(e,t,n)=>{var r=n(960)("unscopables"),i=Array.prototype;null==i[r]&&n(506)(i,r,{}),e.exports=function(e){i[r][e]=!0}},555:(e,t,n)=>{var r=n(558);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},783:(e,t,n)=>{var r=n(443),i=n(162),o=n(656);e.exports=function(e){return function(t,n,a){var s,c=r(t),l=i(c.length),u=o(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},769:(e,t,n)=>{var r=n(349),i=n(960)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},349:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},859:e=>{var t=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=t)},747:(e,t,n)=>{var r=n(980);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},153:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},953:(e,t,n)=>{e.exports=!n(881)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},182:(e,t,n)=>{var r=n(558),i=n(164).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},831:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},708:(e,t,n)=>{var r=n(164),i=n(859),o=n(506),a=n(405),s=n(747),c=function(e,t,n){var l,u,d,p,_=e&c.F,m=e&c.G,h=e&c.S,f=e&c.P,b=e&c.B,v=m?r:h?r[t]||(r[t]={}):(r[t]||{}).prototype,g=m?i:i[t]||(i[t]={}),y=g.prototype||(g.prototype={});for(l in m&&(n=t),n)d=((u=!_&&v&&void 0!==v[l])?v:n)[l],p=b&&u?s(d,r):f&&"function"==typeof d?s(Function.call,d):d,v&&a(v,l,d,e&c.U),g[l]!=d&&o(g,l,p),f&&y[l]!=d&&(y[l]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},881:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},164:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},342:e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},506:(e,t,n)=>{var r=n(907),i=n(497);e.exports=n(953)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},609:(e,t,n)=>{var r=n(164).document;e.exports=r&&r.documentElement},138:(e,t,n)=>{e.exports=!n(953)&&!n(881)((function(){return 7!=Object.defineProperty(n(182)("div"),"a",{get:function(){return 7}}).a}))},306:(e,t,n)=>{var r=n(349);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},558:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},221:(e,t,n)=>{"use strict";var r=n(827),i=n(497),o=n(607),a={};n(506)(a,n(960)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},146:(e,t,n)=>{"use strict";var r=n(600),i=n(708),o=n(405),a=n(506),s=n(869),c=n(221),l=n(607),u=n(548),d=n(960)("iterator"),p=!([].keys&&"next"in[].keys()),_="keys",m="values",h=function(){return this};e.exports=function(e,t,n,f,b,v,g){c(n,t,f);var y,O,S,I=function(e){if(!p&&e in T)return T[e];switch(e){case _:case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",k=b==m,A=!1,T=e.prototype,C=T[d]||T["@@iterator"]||b&&T[b],E=C||I(b),P=b?k?I("entries"):E:void 0,R="Array"==t&&T.entries||C;if(R&&(S=u(R.call(new e)))!==Object.prototype&&S.next&&(l(S,w,!0),r||"function"==typeof S[d]||a(S,d,h)),k&&C&&C.name!==m&&(A=!0,E=function(){return C.call(this)}),r&&!g||!p&&!A&&T[d]||a(T,d,E),s[t]=E,s[w]=h,b)if(y={values:k?E:I(m),keys:v?E:I(_),entries:P},g)for(O in y)O in T||o(T,O,y[O]);else i(i.P+i.F*(p||A),t,y);return y}},491:e=>{e.exports=function(e,t){return{value:t,done:!!e}}},869:e=>{e.exports={}},600:e=>{e.exports=!1},827:(e,t,n)=>{var r=n(555),i=n(219),o=n(831),a=n(565)("IE_PROTO"),s=function(){},c=function(){var e,t=n(182)("iframe"),r=o.length;for(t.style.display="none",n(609).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},907:(e,t,n)=>{var r=n(555),i=n(138),o=n(303),a=Object.defineProperty;t.f=n(953)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},219:(e,t,n)=>{var r=n(907),i=n(555),o=n(386);e.exports=n(953)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},548:(e,t,n)=>{var r=n(342),i=n(500),o=n(565)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},905:(e,t,n)=>{var r=n(342),i=n(443),o=n(783)(!1),a=n(565)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),c=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~o(l,n)||l.push(n));return l}},386:(e,t,n)=>{var r=n(905),i=n(831);e.exports=Object.keys||function(e){return r(e,i)}},497:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},405:(e,t,n)=>{var r=n(164),i=n(506),o=n(342),a=n(217)("src"),s="toString",c=Function.toString,l=(""+c).split(s);n(859).inspectSource=function(e){return c.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(o(n,a)||i(n,a,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,s,(function(){return"function"==typeof this&&this[a]||c.call(this)}))},607:(e,t,n)=>{var r=n(907).f,i=n(342),o=n(960)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},565:(e,t,n)=>{var r=n(260)("keys"),i=n(217);e.exports=function(e){return r[e]||(r[e]=i(e))}},260:(e,t,n)=>{var r=n(859),i=n(164),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(600)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},656:(e,t,n)=>{var r=n(418),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},418:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},443:(e,t,n)=>{var r=n(306),i=n(153);e.exports=function(e){return r(i(e))}},162:(e,t,n)=>{var r=n(418),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},500:(e,t,n)=>{var r=n(153);e.exports=function(e){return Object(r(e))}},303:(e,t,n)=>{var r=n(558);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},217:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},960:(e,t,n)=>{var r=n(260)("wks"),i=n(217),o=n(164).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},208:(e,t,n)=>{"use strict";var r=n(179),i=n(491),o=n(869),a=n(443);e.exports=n(146)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},72:(e,t,n)=>{"use strict";var r=n(769),i={};i[n(960)("toStringTag")]="z",i+""!="[object z]"&&n(405)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},311:(e,t,n)=>{"use strict";var r=n(708),i=n(783)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(179)("includes")},481:(e,t,n)=>{var r,i;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(o){if(void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,i,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=e({path:"/"},r.defaults,o)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(i),/^[\{\[]/.test(a)&&(i=a)}catch(e){}i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var l in o)o[l]&&(c+="; "+l,!0!==o[l]&&(c+="="+o[l]));return document.cookie=t+"="+i+c}t||(a={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,p=0;p<u.length;p++){var _=u[p].split("="),m=_.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var h=_[0].replace(d,decodeURIComponent);if(m=n.read?n.read(m,h):n(m,h)||m.replace(d,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(e){}if(t===h){a=m;break}t||(a[h]=m)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}((function(){}))}))}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};(()=>{"use strict";n.d(r,{default:()=>Rm});n(72),n(208);class e{constructor(){this._events={}}on(e,t){(this._events[e]||(this._events[e]=[])).push(t)}off(e,t){const n=this._events[e];if(!n)return;const r=n.indexOf(t);r>=0&&n.splice(r,1)}once(e,t){const n=()=>{this.off(e,t),this.off(e,n)};this.on(e,t),this.on(e,n)}subscribe(e,t){return this.on(e,t),()=>{this.off(e,t)}}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=this._events[e];i&&i.slice().forEach((e=>{e.apply(void 0,n)}))}}const t=e=>{const{originalContext:t,onAssert:n,onError:r}=e,i=[];return{deepen:(e,t)=>{i.push(e);const n=t();return i.pop(),n},assert:(e,t,r)=>{e||n({path:i,expected:t,got:r})},isPartialObject:(null==t?void 0:t.isPartialObject)||!1,onError:r}},i=e=>e,o=function(e){return void 0===e&&(e=()=>{}),t=>{let{path:n,expected:r,got:i}=t;return e(`at ${n.join(".")}: expected ${r}, got ${i}`)}},a=function(e,n,r,i){void 0===i&&(i=console.error);const a=o((e=>{i(`In context '${r}' ${e}`)}));try{return e(n,t({onAssert:a,onError:i}))}catch(e){const t=e instanceof Error?e:new Error(String(e));i(`In context '${r}' ${t.message}`)}return n},s=function(e,n,r,i){void 0===i&&(i=console.error);const a=o((e=>{throw new Error(`In context '${r}' ${e}`)}));return e(n,t({onAssert:a,onError:i}))},c=e=>"object"==typeof e&&!Array.isArray(e)&&null!==e,l=e=>e.replace(/[A-Z]/g,(e=>`_${e.toLowerCase()}`)),u=e=>{let{isSnakeCase:t,isOptional:n=!1}=e;return(e,r,i)=>{const o=t?l(e):e;return(t,a)=>{a.assert(c(t),"object",typeof t);const s=t[o];n?a.assert("boolean"==typeof s||void 0===s,`value of key '${o}' boolean or undefined`,typeof s):a.assert("boolean"==typeof s,`value of key '${o}' boolean`,typeof s);const l=s?r:i;return Object.assign(l(t,a),{[e]:Boolean(s)})}}},d=(u({isSnakeCase:!1,isOptional:!1}),u({isSnakeCase:!0,isOptional:!1}),u({isSnakeCase:!1,isOptional:!0}),u({isSnakeCase:!0,isOptional:!0})),p=e=>{let{isSnakeCase:t}=e;return(e,n)=>{const r=t?l(e):e,i=Object.keys(n).map((e=>`'${e}'`)).join(", ");return(e,t)=>{t.assert(c(e),"object",typeof e);const o=e[r];t.assert("string"==typeof o,`value of key '${r}' string`,typeof o),t.assert(o in n,`value of key '${r}' in [${i}]`,o);const a=n[o];return Object.assign(a(e,t),{[r]:o})}}},_=p({isSnakeCase:!1}),m=p({isSnakeCase:!0});let h,f,b;!function(e){e.ONE_COLUMN="one_column",e.ONE_COLUMN_BIG="one_column_big",e.TWO_COLUMNS="two_column",e.TWO_COLUMNS_BIG="two_column_big",e.THREE_COLUMNS="three_column"}(h||(h={})),function(e){e.CARD="card",e.GIF="gif",e.SHORT_VIDEO="short_video",e.LONG_VIDEO_COMPACT="long_video_compact",e.SHORT_VIDEO_COMPACT="short_video_compact",e.SHORT_VIDEO_CAROUSEL="short_video_carousel",e.ONBOARDING_INTEREST_LIST="onboarding_interest_list",e.RTB="rtb_card",e.GALLERY="gallery",e.BRIEF="brief",e.INTERVIEW="interview",e.SHOWCASE_CARD="plain_card",e.SUBSCRIPTIONS_MORE="subscriptions_more",e.SUBSCRIPTIONS_HEADS="subscriptions_heads",e.RECOMMENDATIONS_CHANNELS="recommendations_channels",e.PROMO_PUBLISHERS_CAROUSEL="promo_publishers_carousel",e.NEWS="news",e.SHOWCASE_TABS="showcase_tabs",e.HIDDEN="hidden",e.SEARCH_PUBLISHERS="search_publishers",e.PROMO_PUBLICATIONS_CAROUSEL="promo_publications_carousel",e.HISTORY_DATE_SEPARATOR="history_date_separator",e.AD_CAMPAIGN_CARD="ad_campaign_card",e.AD_CAMPAIGN_BANNER="ad_campaign_banner",e.AD_CAMPAIGN_COMPACT_BANNER="ad_campaign_compact_banner",e.AD_CAMPAIGN_QR_BANNER="ad_campaign_qr_banner",e.SMALL_CARD="small_card",e.SUBSCRIPTIONS_ENTRY="subscriptions_entry",e.SUBSCRIPTIONS_NO_LOGIN="subscriptions_no_login",e.SUBSCRIPTIONS_EMPTY_CARD="subscriptions_empty_card",e.SUBSCRIPTIONS_END="subscriptions_end",e.SUBSCRIPTIONS_RECOMMENDATIONS="subscriptions_recommendations",e.TOP_CONTENT_SET="top_content_set",e.DZEN_FIRST_PLACE="dzen_first_place",e.PUBLISHERS_CHANNEL_SUBSCRIBE_CARD="publishers_channel_subscribe_card",e.AUTHOR_POPULAR_END="author_popular_end",e.LONG_VIDEO_FLOOR="long_video_floor",e.NATIVE_FLOOR="native_floor",e.SUBSCRIPTION_ALL="subscription_all",e.SUBSCRIPTION_HEAD="subscription_head",e.SUITES_CAROUSEL="suites_carousel",e.CHANNEL_ARTICLE_FLOOR="channel_article_floor",e.CHANNEL_LONG_VIDEO_FLOOR="channel_long_video_floor",e.SEARCH_PUBLISHER_CARD="search_publisher_card",e.SEARCH_WIZARD="search_wizard",e.SEARCH_QUERIES_CLOUD="search_queries_cloud"}(f||(f={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(b||(b={}));const v={columnCount:1,initialDisplayedRowsNumber:6,rowDisplayStep:8},g={columnCount:2,initialDisplayedRowsNumber:6,rowDisplayStep:9},y=(h.ONE_COLUMN,h.ONE_COLUMN_BIG,h.TWO_COLUMNS,h.TWO_COLUMNS_BIG,h.THREE_COLUMNS,function(e){return void 0===e&&(e="item"),`${e}_${Math.random()*Date.now()}`}),O=(e,t)=>(n,r)=>t(e(n,r)),S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(e,n)=>Object.assign({},...t.map((t=>t(e,n))))},I=e=>(t,n)=>{n.assert(c(t),"object",typeof t);const r={};for(const i of Object.keys(e))r[i]=n.deepen(i,(()=>(0,e[i])(t[l(i)],n)));return r},w=e=>(t,n)=>(n.assert(typeof t===e,e,typeof t),t),k=w("string"),A=w("number"),T=w("boolean"),C=()=>y("FeedItemUniqId"),E=e=>(t,n)=>P(e)(t,n),P=e=>(t,n)=>void 0===t?void 0:e(t,n),R=(e,t)=>(t.assert(void 0!==e,"json","undefined"),e),x=e=>(t,n)=>(n.assert(t===e,`${typeof e} '${e}'`,`${typeof t} '${t}'`),e);n(311);const D=e=>Object.keys(e),N=e=>{const t=D(e).filter((e=>isNaN(+String(e)))).map((t=>e[t])),n=t.map((e=>"string"==typeof e?`'${e}'`:e)).join(", ");return(e,r)=>(r.assert("string"==typeof e||"number"==typeof e,`one of [${n}]`,typeof e),r.assert(t.includes(e),`one of [${n}]`,`'${e}'`),e)},j=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.map((e=>`'${e}'`)).join(", ");return(e,n)=>(n.assert("string"==typeof e,"string union",typeof e),n.assert(t.includes(e),`one of [${r}]`,`'${e}'`),e)},L=e=>(t,n)=>{n.assert(c(t),"object",typeof t);const r={},o=n.isPartialObject?(s=n,Object.assign({},s,{isPartialObject:!1})):n,a=n.isPartialObject?P:i;var s;for(const i of Object.keys(e))r[i]=n.deepen(i,(()=>a(e[i])(t[i],o)));return r},B=e=>(t,n)=>(n.assert("object"==typeof t&&Array.isArray(t),"array",typeof t),t.map(((t,r)=>n.deepen(String(r),(()=>e(t,n)))))),U=e=>(t,n)=>{n.assert(c(t),"record",typeof t);const r={};for(const i of D(t))r[i]=n.deepen(`"${i}"`,(()=>e(t[i],n)));return r};function V(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var M={};function F(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:M}var z=Object.assign,H=Object.getOwnPropertyDescriptor,G=Object.defineProperty,$=Object.prototype,q=[];Object.freeze(q);var W={};Object.freeze(W);var K="undefined"!=typeof Proxy,Y=Object.toString();function Z(){K||V("Proxy not available")}function X(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var J=function(){};function Q(e){return"function"==typeof e}function ee(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function te(e){return null!==e&&"object"==typeof e}function ne(e){var t;if(!te(e))return!1;var n=Object.getPrototypeOf(e);return null==n||(null==(t=n.constructor)?void 0:t.toString())===Y}function re(e,t,n){G(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function ie(e,t,n){G(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function oe(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return te(e)&&!0===e[n]}}function ae(e){return e instanceof Map}function se(e){return e instanceof Set}var ce=void 0!==Object.getOwnPropertySymbols;function le(e){var t=Object.keys(e);if(!ce)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return $.propertyIsEnumerable.call(e,t)}))):t}var ue="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:ce?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function de(e){return null===e?null:"object"==typeof e?""+e:e}function pe(e,t){return $.hasOwnProperty.call(e,t)}var _e=Object.getOwnPropertyDescriptors||function(e){var t={};return ue(e).forEach((function(n){t[n]=H(e,n)})),t};function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t,n){return t&&me(e.prototype,t),n&&me(e,n),e}function fe(){return fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}function be(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}var Oe=Symbol("mobx-stored-annotations");function Se(e){return Object.assign((function(t,n){Ie(t,n,e)}),e)}function Ie(e,t,n){pe(e,Oe)||re(e,Oe,fe({},e[Oe])),function(e){return e.annotationType_===Re}(n)||(e[Oe][t]=n)}var we=Symbol("mobx administration"),ke=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=St.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return Wt(this)},t.reportChanged=function(){$t(),Kt(this),qt()},t.toString=function(){return this.name_},e}(),Ae=oe("Atom",ke);function Te(e,t,n){void 0===t&&(t=J),void 0===n&&(n=J);var r,i=new ke(e);return t!==J&&bn(hn,i,t,r),n!==J&&fn(i,n),i}var Ce={identity:function(e,t){return e===t},structural:function(e,t){return xr(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return xr(e,t,1)}};function Ee(e,t,n){return Tn(e)?e:Array.isArray(e)?at.array(e,{name:n}):ne(e)?at.object(e,void 0,{name:n}):ae(e)?at.map(e,{name:n}):se(e)?at.set(e,{name:n}):e}function Pe(e){return e}var Re="override";function xe(e,t){return{annotationType_:e,options_:t,make_:De,extend_:Ne}}function De(e,t){for(var n,r,i,o=!1,a=e.target_,s=null!=(n=null==(r=this.options_)?void 0:r.bound)&&n;a&&a!==$;){var c=H(a,t);if(c){if(a===e.target_||s){var l=je(e,this,t,c);if(!e.defineProperty_(t,l))return;if(o=!0,s)break}if(a!==e.target_){if(dn(c.value)){o=!0;break}var u=je(e,this,t,c,!1);G(a,t,u),o=!0}}a=Object.getPrototypeOf(a)}o?vr(e,this,t):(null==(i=e.target_[Oe])?void 0:i[t])||V(1,this.annotationType_,e.name_+"."+t.toString())}function Ne(e,t,n,r){var i=je(e,this,t,n);return e.defineProperty_(t,i,r)}function je(e,t,n,r,i){var o,a,s,c,l,u;void 0===i&&(i=Ft.safeDescriptors),u=r,t.annotationType_,u.value;var d,p=r.value;(null==(o=t.options_)?void 0:o.bound)&&(p=p.bind(null!=(d=e.proxy_)?d:e.target_));return{value:ft(null!=(a=null==(s=t.options_)?void 0:s.name)?a:n.toString(),p,null!=(c=null==(l=t.options_)?void 0:l.autoAction)&&c),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function Le(e,t){return{annotationType_:e,options_:t,make_:Be,extend_:Ue}}function Be(e,t){for(var n,r=!1,i=e.target_;i&&i!==$;){var o=H(i,t);if(o){if(i!==e.target_){if(kn(o.value)){r=!0;break}var a=Ve(e,this,t,o,!1);G(i,t,a)}else{var s=Ve(e,this,t,o);if(!e.defineProperty_(t,s))return}r=!0}i=Object.getPrototypeOf(i)}r?vr(e,this,t):(null==(n=e.target_[Oe])?void 0:n[t])||V(1,this.annotationType_,e.name_+"."+t.toString())}function Ue(e,t,n,r){var i=Ve(e,this,t,n);return e.defineProperty_(t,i,r)}function Ve(e,t,n,r,i){var o;return void 0===i&&(i=Ft.safeDescriptors),o=r,t.annotationType_,o.value,{value:In(r.value),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function Me(e,t){return{annotationType_:e,options_:t,make_:Fe,extend_:ze}}function Fe(e,t){for(var n,r=e.target_;r&&r!==$;){var i=H(r,t);if(i){if(He(e,this,t,i),!e.defineComputedProperty_(t,fe({},this.options_,{get:i.get,set:i.set})))return;return void vr(e,this,t)}r=Object.getPrototypeOf(r)}(null==(n=e.target_[Oe])?void 0:n[t])||V(1,this.annotationType_,e.name_+"."+t.toString())}function ze(e,t,n,r){return He(e,this,t,n),e.defineComputedProperty_(t,fe({},this.options_,{get:n.get,set:n.set}),r)}function He(e,t,n,r){t.annotationType_,r.get}function Ge(e,t){return{annotationType_:e,options_:t,make_:$e,extend_:qe}}function $e(e,t){for(var n,r=e.target_;r&&r!==$;){var i=H(r,t);if(i){var o,a;if(We(e,this,t,i),!e.defineObservableProperty_(t,i.value,null!=(o=null==(a=this.options_)?void 0:a.enhancer)?o:Ee))return;return void vr(e,this,t)}r=Object.getPrototypeOf(r)}(null==(n=e.target_[Oe])?void 0:n[t])||V(1,this.annotationType_,e.name_+"."+t.toString())}function qe(e,t,n,r){var i,o;return We(e,this,t,n),e.defineObservableProperty_(t,n.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:Ee,r)}function We(e,t,n,r){t.annotationType_}var Ke={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Ye(e){return e||Ke}Object.freeze(Ke);var Ze=Ge("observable"),Xe=Ge("observable.ref",{enhancer:Pe}),Je=Ge("observable.shallow",{enhancer:function(e,t,n){return null==e||br(e)||Qn(e)||ar(e)||lr(e)?e:Array.isArray(e)?at.array(e,{name:n,deep:!1}):ne(e)?at.object(e,void 0,{name:n,deep:!1}):ae(e)?at.map(e,{name:n,deep:!1}):se(e)?at.set(e,{name:n,deep:!1}):void 0}}),Qe=Ge("observable.struct",{enhancer:function(e,t){return xr(e,t)?t:e}}),et=Se(Ze);function tt(e){return!0===e.deep?Ee:!1===e.deep?Pe:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:Ee;var t,n,r}function nt(e,t,n){if(!ee(t))return Tn(e)?e:ne(e)?at.object(e,t,n):Array.isArray(e)?at.array(e,t):ae(e)?at.map(e,t):se(e)?at.set(e,t):"object"==typeof e&&null!==e?e:at.box(e,t);Ie(e,t,Ze)}Object.assign(nt,et);var rt,it,ot={box:function(e,t){var n=Ye(t);return new Ot(e,tt(n),n.name,!0,n.equals)},array:function(e,t){var n=Ye(t);return(!1===Ft.useProxies||!1===n.proxy?Tr:Gn)(e,tt(n),n.name)},map:function(e,t){var n=Ye(t);return new or(e,tt(n),n.name)},set:function(e,t){var n=Ye(t);return new cr(e,tt(n),n.name)},object:function(e,t,n){return gn(!1===Ft.useProxies||!1===(null==n?void 0:n.proxy)?mr({},n):function(e,t){var n,r;return Z(),e=mr(e,t),null!=(r=(n=e[we]).proxy_)?r:n.proxy_=new Proxy(e,Dn)}({},n),e,t)},ref:Se(Xe),shallow:Se(Je),deep:et,struct:Se(Qe)},at=z(nt,ot),st="computed",ct=Me(st),lt=Me("computed.struct",{equals:Ce.structural}),ut=function(e,t){if(ee(t))return Ie(e,t,ct);if(ne(e))return Se(Me(st,e));var n=ne(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new wt(n)};Object.assign(ut,ct),ut.struct=Se(lt);var dt,pt=0,_t=1,mt=null!=(rt=null==(it=H((function(){}),"name"))?void 0:it.configurable)&&rt,ht={value:"action",configurable:!0,writable:!1,enumerable:!1};function ft(e,t,n,r){function i(){return bt(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,mt&&(ht.value=e,Object.defineProperty(i,"name",ht)),i}function bt(e,t,n,r,i){var o=function(e,t,n,r){var i=!1,o=0;0;var a=Ft.trackingDerivation,s=!t||!a;$t();var c=Ft.allowStateChanges;s&&(Dt(),c=vt(!0));var l=jt(!0),u={runAsAction_:s,prevDerivation_:a,prevAllowStateChanges_:c,prevAllowStateReads_:l,notifySpy_:i,startTime_:o,actionId_:_t++,parentActionId_:pt};return pt=u.actionId_,u}(0,t);try{return n.apply(r,i)}catch(e){throw o.error_=e,e}finally{!function(e){pt!==e.actionId_&&V(30);pt=e.parentActionId_,void 0!==e.error_&&(Ft.suppressReactionErrors=!0);gt(e.prevAllowStateChanges_),Lt(e.prevAllowStateReads_),qt(),e.runAsAction_&&Nt(e.prevDerivation_);0;Ft.suppressReactionErrors=!1}(o)}}function vt(e){var t=Ft.allowStateChanges;return Ft.allowStateChanges=e,t}function gt(e){Ft.allowStateChanges=e}dt=Symbol.toPrimitive;var yt,Ot=function(e){function t(t,n,r,i,o){var a;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===o&&(o=Ce.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=o,a.value_=n(t,void 0,r),a}be(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==Ft.UNCHANGED){0,this.setNewValue_(e)}},n.prepareNewValue_=function(e){if(Et(this),Nn(this)){var t=Ln(this,{object:this,type:Fn,newValue:e});if(!t)return Ft.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?Ft.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),Bn(this)&&Vn(this,{type:Fn,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return jn(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:Fn,newValue:this.value_,oldValue:void 0}),Un(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return de(this.get())},n[dt]=function(){return this.valueOf()},t}(ke);yt=Symbol.toPrimitive;var St,It,wt=function(){function e(e){this.dependenciesState_=St.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=St.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new At(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=It.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||V(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=ft("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?Ce.structural:Ce.default),this.scope_=e.context,this.requiresReaction_=!!e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==St.UP_TO_DATE_)return;e.lowestObserverState_=St.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===St.UP_TO_DATE_&&(e.dependenciesState_=St.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing_&&V(32,this.name_,this.derivation),0!==Ft.inBatch||0!==this.observers_.size||this.keepAlive_){if(Wt(this),Ct(this)){var e=Ft.trackingContext;this.keepAlive_&&!e&&(Ft.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===St.STALE_)return;e.lowestObserverState_=St.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===St.POSSIBLY_STALE_?t.dependenciesState_=St.STALE_:t.dependenciesState_===St.UP_TO_DATE_&&(e.lowestObserverState_=St.UP_TO_DATE_)}))}(this),Ft.trackingContext=e}}else Ct(this)&&(this.warnAboutUntrackedRead_(),$t(),this.value_=this.computeValue_(!1),qt());var t=this.value_;if(Tt(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter_&&V(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else V(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===St.NOT_TRACKING_,n=this.computeValue_(!0);var r=t||Tt(e)||Tt(n)||!this.equals_(e,n);return r&&(this.value_=n),r},t.computeValue_=function(e){this.isComputing_=!0;var t,n=vt(!1);if(e)t=Pt(this,this.derivation,this.scope_);else if(!0===Ft.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new At(e)}return gt(n),this.isComputing_=!1,t},t.suspend_=function(){this.keepAlive_||(Rt(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,r=!0,i=void 0;return pn((function(){var o=n.get();if(!r||t){var a=Dt();e({observableKind:"computed",debugObjectName:n.name_,type:Fn,object:n,newValue:o,oldValue:i}),Nt(a)}r=!1,i=o}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return de(this.get())},t[yt]=function(){return this.valueOf()},e}(),kt=oe("ComputedValue",wt);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(St||(St={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(It||(It={}));var At=function(e){this.cause=void 0,this.cause=e};function Tt(e){return e instanceof At}function Ct(e){switch(e.dependenciesState_){case St.UP_TO_DATE_:return!1;case St.NOT_TRACKING_:case St.STALE_:return!0;case St.POSSIBLY_STALE_:for(var t=jt(!0),n=Dt(),r=e.observing_,i=r.length,o=0;o<i;o++){var a=r[o];if(kt(a)){if(Ft.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return Nt(n),Lt(t),!0}if(e.dependenciesState_===St.STALE_)return Nt(n),Lt(t),!0}}return Bt(e),Nt(n),Lt(t),!1}}function Et(e){}function Pt(e,t,n){var r=jt(!0);Bt(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++Ft.runId;var i,o=Ft.trackingDerivation;if(Ft.trackingDerivation=e,Ft.inBatch++,!0===Ft.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new At(e)}return Ft.inBatch--,Ft.trackingDerivation=o,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=St.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,a=0;a<o;a++){var s=n[a];0===s.diffValue_&&(s.diffValue_=1,i!==a&&(n[i]=s),i++),s.dependenciesState_>r&&(r=s.dependenciesState_)}n.length=i,e.newObserving_=null,o=t.length;for(;o--;){var c=t[o];0===c.diffValue_&&Ht(c,e),c.diffValue_=0}for(;i--;){var l=n[i];1===l.diffValue_&&(l.diffValue_=0,zt(l,e))}r!==St.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),Lt(r),i}function Rt(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Ht(t[n],e);e.dependenciesState_=St.NOT_TRACKING_}function xt(e){var t=Dt();try{return e()}finally{Nt(t)}}function Dt(){var e=Ft.trackingDerivation;return Ft.trackingDerivation=null,e}function Nt(e){Ft.trackingDerivation=e}function jt(e){var t=Ft.allowStateReads;return Ft.allowStateReads=e,t}function Lt(e){Ft.allowStateReads=e}function Bt(e){if(e.dependenciesState_!==St.UP_TO_DATE_){e.dependenciesState_=St.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=St.UP_TO_DATE_}}var Ut=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Vt=!0,Mt=!1,Ft=function(){var e=F();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Vt=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Ut).version&&(Vt=!1),Vt?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Ut):(setTimeout((function(){Mt||V(35)}),1),new Ut)}();function zt(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Ht(e,t){e.observers_.delete(t),0===e.observers_.size&&Gt(e)}function Gt(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,Ft.pendingUnobservations.push(e))}function $t(){Ft.inBatch++}function qt(){if(0==--Ft.inBatch){Xt();for(var e=Ft.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof wt&&n.suspend_())}Ft.pendingUnobservations=[]}}function Wt(e){var t=Ft.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&Ft.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),!0):(0===e.observers_.size&&Ft.inBatch>0&&Gt(e),!1)}function Kt(e){e.lowestObserverState_!==St.STALE_&&(e.lowestObserverState_=St.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===St.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=St.STALE_})))}var Yt=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),void 0===r&&(r=!1),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=St.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=It.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,Ft.pendingReactions.push(this),Xt())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){$t(),this.isScheduled_=!1;var e=Ft.trackingContext;if(Ft.trackingContext=this,Ct(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}Ft.trackingContext=e,qt()}},t.track=function(e){if(!this.isDisposed_){$t();0,this.isRunning_=!0;var t=Ft.trackingContext;Ft.trackingContext=this;var n=Pt(this,e,void 0);Ft.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&Rt(this),Tt(n)&&this.reportExceptionInDerivation_(n.cause),qt()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(Ft.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";Ft.suppressReactionErrors||console.error(n,e),Ft.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||($t(),Rt(this),qt()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[we]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){V("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"boolean"==typeof n[n.length-1]&&(e=n.pop());var i=Pn(n);if(!i)return V("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");i.isTracing_===It.NONE&&console.log("[mobx.trace] '"+i.name_+"' tracing enabled");i.isTracing_=e?It.BREAK:It.LOG}(this,e)},e}();var Zt=function(e){return e()};function Xt(){Ft.inBatch>0||Ft.isRunningReactions||Zt(Jt)}function Jt(){Ft.isRunningReactions=!0;for(var e=Ft.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}Ft.isRunningReactions=!1}var Qt=oe("Reaction",Yt);var en="action",tn="autoAction",nn="<unnamed action>",rn=xe(en),on=xe("action.bound",{bound:!0}),an=xe(tn,{autoAction:!0}),sn=xe("autoAction.bound",{autoAction:!0,bound:!0});function cn(e){return function(t,n){return Q(t)?ft(t.name||nn,t,e):Q(n)?ft(t,n,e):ee(n)?Ie(t,n,e?an:rn):ee(t)?Se(xe(e?tn:en,{name:t,autoAction:e})):void 0}}var ln=cn(!1);Object.assign(ln,rn);var un=cn(!0);function dn(e){return Q(e)&&!0===e.isMobxAction}function pn(e,t){var n,r;void 0===t&&(t=W);var i,o=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(!t.scheduler&&!t.delay)i=new Yt(o,(function(){this.track(c)}),t.onError,t.requiresObservable);else{var a=mn(t),s=!1;i=new Yt(o,(function(){s||(s=!0,a((function(){s=!1,i.isDisposed_||i.track(c)})))}),t.onError,t.requiresObservable)}function c(){e(i)}return i.schedule_(),i.getDisposer_()}Object.assign(un,an),ln.bound=Se(on),un.bound=Se(sn);var _n=function(e){return e()};function mn(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:_n}var hn="onBO";function fn(e,t,n){return bn("onBUO",e,t,n)}function bn(e,t,n,r){var i="function"==typeof r?Cr(t,n):Cr(t),o=Q(r)?r:n,a=e+"L";return i[a]?i[a].add(o):i[a]=new Set([o]),function(){var e=i[a];e&&(e.delete(o),0===e.size&&delete i[a])}}var vn="always";function gn(e,t,n,r){var i=_e(t),o=mr(e,r)[we];$t();try{ue(i).forEach((function(e){o.extend_(e,i[e],!n||(!(e in n)||n[e]))}))}finally{qt()}return e}var yn=0;function On(){this.message="FLOW_CANCELLED"}On.prototype=Object.create(Error.prototype);var Sn=Le("flow"),In=Object.assign((function(e,t){if(ee(t))return Ie(e,t,Sn);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=this,i=arguments,o=++yn,a=ln(r+" - runid: "+o+" - init",n).apply(t,i),s=void 0,c=new Promise((function(t,n){var i=0;function c(e){var t;s=void 0;try{t=ln(r+" - runid: "+o+" - yield "+i++,a.next).call(a,e)}catch(e){return n(e)}u(t)}function l(e){var t;s=void 0;try{t=ln(r+" - runid: "+o+" - yield "+i++,a.throw).call(a,e)}catch(e){return n(e)}u(t)}function u(e){if(!Q(null==e?void 0:e.then))return e.done?t(e.value):(s=Promise.resolve(e.value)).then(c,l);e.then(u,n)}e=n,c(void 0)}));return c.cancel=ln(r+" - runid: "+o+" - cancel",(function(){try{s&&wn(s);var t=a.return(void 0),n=Promise.resolve(t.value);n.then(J,J),wn(n),e(new On)}catch(t){e(t)}})),c};return i.isMobXFlow=!0,i}),Sn);function wn(e){Q(e.cancel)&&e.cancel()}function kn(e){return!0===(null==e?void 0:e.isMobXFlow)}function An(e,t){return!!e&&(void 0!==t?!!br(e)&&e[we].values_.has(t):br(e)||!!e[we]||Ae(e)||Qt(e)||kt(e))}function Tn(e){return An(e)}function Cn(e){return br(e)?e[we].keys_():ar(e)||lr(e)?Array.from(e.keys()):Qn(e)?e.map((function(e,t){return t})):void V(5)}function En(e){return br(e)?Cn(e).map((function(t){return[t,e[t]]})):ar(e)?Cn(e).map((function(t){return[t,e.get(t)]})):lr(e)?Array.from(e.entries()):Qn(e)?e.map((function(e,t){return[t,e]})):void V(7)}function Pn(e){switch(e.length){case 0:return Ft.trackingDerivation;case 1:return Cr(e[0]);case 2:return Cr(e[0],e[1])}}function Rn(e,t){void 0===t&&(t=void 0),$t();try{return e.apply(t)}finally{qt()}}function xn(e){return e[we]}var Dn={has:function(e,t){return xn(e).has_(t)},get:function(e,t){return xn(e).get_(t)},set:function(e,t,n){var r;return!!ee(t)&&(null==(r=xn(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!ee(t)&&(null==(n=xn(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=xn(e).defineProperty_(t,n))||r},ownKeys:function(e){return xn(e).ownKeys_()},preventExtensions:function(e){V(13)}};function Nn(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function jn(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),X((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Ln(e,t){var n=Dt();try{for(var r=[].concat(e.interceptors_||[]),i=0,o=r.length;i<o&&((t=r[i](t))&&!t.type&&V(14),t);i++);return t}finally{Nt(n)}}function Bn(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function Un(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),X((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Vn(e,t){var n=Dt(),r=e.changeListeners_;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);Nt(n)}}var Mn="splice",Fn="update",zn={get:function(e,t){var n=e[we];return t===we?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?pe($n,t)?$n[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[we];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){V(15)}},Hn=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new ke(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return jn(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Un(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||e<0)&&V("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&V(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&Ar(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=q),Nn(this)){var o=Ln(this,{object:this.proxy_,type:Mn,index:e,removedCount:t,added:n});if(!o)return q;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var a=n.length-t;this.updateArrayLength_(i,a)}var s=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length=e+n.length-t;for(var a=0;a<n.length;a++)this.values_[e+a]=n[a];for(var s=0;s<o.length;s++)this.values_[e+n.length+s]=o[s];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=Bn(this),o=i||r?{observableKind:"array",object:this.proxy_,type:Fn,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&Vn(this,o)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=Bn(this),o=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Mn,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&Vn(this,o)},t.get_=function(e){if(e<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},t.set_=function(e,t){var n=this.values_;if(e<n.length){this.atom_;var r=n[e];if(Nn(this)){var i=Ln(this,{type:Fn,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else e===n.length?this.spliceWithArray_(e,0,[t]):V(17,e,n.length)},e}();function Gn(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),Z();var i=new Hn(n,t,r,!1);ie(i.values_,we,i);var o=new Proxy(i.values_,zn);if(i.proxy_=o,e&&e.length){var a=vt(!0);i.spliceWithArray_(0,0,e),gt(a)}return o}var $n={clear:function(){return this.splice(0)},replace:function(e){var t=this[we];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this[we];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[we].spliceWithArray_(e,t,n)},push:function(){for(var e=this[we],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[we].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[we],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return Ft.trackingDerivation&&V(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Ft.trackingDerivation&&V(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[we],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function qn(e,t){"function"==typeof Array.prototype[e]&&($n[e]=t(e))}function Wn(e){return function(){var t=this[we];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Kn(e){return function(t,n){var r=this,i=this[we];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function Yn(e){return function(){var t=this,n=this[we];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}qn("concat",Wn),qn("flat",Wn),qn("includes",Wn),qn("indexOf",Wn),qn("join",Wn),qn("lastIndexOf",Wn),qn("slice",Wn),qn("toString",Wn),qn("toLocaleString",Wn),qn("every",Kn),qn("filter",Kn),qn("find",Kn),qn("findIndex",Kn),qn("flatMap",Kn),qn("forEach",Kn),qn("map",Kn),qn("some",Kn),qn("reduce",Yn),qn("reduceRight",Yn);var Zn,Xn,Jn=oe("ObservableArrayAdministration",Hn);function Qn(e){return te(e)&&Jn(e[we])}var er={},tr="add",nr="delete";Zn=Symbol.iterator,Xn=Symbol.toStringTag;var rr,ir,or=function(){function e(e,t,n){void 0===t&&(t=Ee),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[we]=er,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,Q(Map)||V(18),this.keysAtom_=Te("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,this.merge(e)}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!Ft.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new Ot(this.has_(e),Pe,"ObservableMap.key?",!1);this.hasMap_.set(e,r),fn(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},t.set=function(e,t){var n=this.has_(e);if(Nn(this)){var r=Ln(this,{type:n?Fn:tr,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,Nn(this))&&!Ln(this,{type:nr,object:this,name:e}))return!1;if(this.has_(e)){var n=Bn(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:nr,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return Rn((function(){t.keysAtom_.reportChanged(),t.updateHasMapEntry_(e,!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&Vn(this,r),!0}return!1},t.updateHasMapEntry_=function(e,t){var n=this.hasMap_.get(e);n&&n.setNewValue_(t)},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==Ft.UNCHANGED){var r=Bn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Fn,object:this,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),r&&Vn(this,i)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,Rn((function(){var r=new Ot(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,r),t=r.value_,n.updateHasMapEntry_(e,!0),n.keysAtom_.reportChanged()}));var r=Bn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:tr,object:this,name:e,newValue:t}:null;r&&Vn(this,i)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return jr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},t.entries=function(){var e=this,t=this.keys();return jr({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},t[Zn]=function(){return this.entries()},t.forEach=function(e,t){for(var n,r=ye(this);!(n=r()).done;){var i=n.value,o=i[0],a=i[1];e.call(t,a,o,this)}},t.merge=function(e){var t=this;return ar(e)&&(e=new Map(e)),Rn((function(){ne(e)?le(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):ae(e)?(e.constructor!==Map&&V(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&V(20,e)})),this},t.clear=function(){var e=this;Rn((function(){xt((function(){for(var t,n=ye(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.replace=function(e){var t=this;return Rn((function(){for(var n,r=function(e){if(ae(e)||ar(e))return e;if(Array.isArray(e))return new Map(e);if(ne(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return V(21,e)}(e),i=new Map,o=!1,a=ye(t.data_.keys());!(n=a()).done;){var s=n.value;if(!r.has(s))if(t.delete(s))o=!0;else{var c=t.data_.get(s);i.set(s,c)}}for(var l,u=ye(r.entries());!(l=u()).done;){var d=l.value,p=d[0],_=d[1],m=t.data_.has(p);if(t.set(p,_),t.data_.has(p)){var h=t.data_.get(p);i.set(p,h),m||(o=!0)}}if(!o)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var f=t.data_.keys(),b=i.keys(),v=f.next(),g=b.next();!v.done;){if(v.value!==g.value){t.keysAtom_.reportChanged();break}v=f.next(),g=b.next()}t.data_=i})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return Un(this,e)},t.intercept_=function(e){return jn(this,e)},he(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Xn,get:function(){return"Map"}}]),e}(),ar=oe("ObservableMap",or);var sr={};rr=Symbol.iterator,ir=Symbol.toStringTag;var cr=function(){function e(e,t,n){void 0===t&&(t=Ee),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[we]=sr,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,Q(Set)||V(22),this.atom_=Te(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;Rn((function(){xt((function(){for(var t,n=ye(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},t.forEach=function(e,t){for(var n,r=ye(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},t.add=function(e){var t=this;if((this.atom_,Nn(this))&&!Ln(this,{type:tr,object:this,newValue:e}))return this;if(!this.has(e)){Rn((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=!1,r=Bn(this),i=r?{observableKind:"set",debugObjectName:this.name_,type:tr,object:this,newValue:e}:null;n,r&&Vn(this,i)}return this},t.delete=function(e){var t=this;if(Nn(this)&&!Ln(this,{type:nr,object:this,oldValue:e}))return!1;if(this.has(e)){var n=Bn(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:nr,object:this,oldValue:e}:null;return Rn((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&Vn(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return jr({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return jr({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return lr(e)&&(e=new Set(e)),Rn((function(){Array.isArray(e)||se(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&V("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return Un(this,e)},t.intercept_=function(e){return jn(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[rr]=function(){return this.values()},he(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:ir,get:function(){return"Set"}}]),e}(),lr=oe("ObservableSet",cr),ur=Symbol("mobx-inferred-annotations"),dr=Object.create(null),pr="remove",_r=function(){function e(e,t,n,r,i){void 0===t&&(t=new Map),void 0===r&&(r=at),void 0===i&&(i=!1),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.autoBind_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.autoBind_=i,this.keysAtom_=new ke("ObservableObject.keys"),this.isPlainObject_=ne(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof wt)return n.set(t),!0;if(Nn(this)){var r=Ln(this,{type:Fn,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==Ft.UNCHANGED){var i=Bn(this),o=i?{type:Fn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),i&&Vn(this,o)}return!0},t.get_=function(e){return Ft.trackingDerivation&&!pe(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),pe(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!Ft.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new Ot(e in this.target_,Pe,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){!0===t&&(t=this.inferAnnotation_(e)),!1!==t&&(gr(this,t,e),t.make_(this,e))},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=Br(t,this.defaultAnnotation_,this.autoBind_)),!1===n)return this.defineProperty_(e,t,r);gr(this,n,e);var i=n.extend_(this,e,t,r);return i&&vr(this,n,e),i},t.inferAnnotation_=function(e){var t,n=null==(t=this.target_[ur])?void 0:t.get(e);if(n)return n;for(var r=this.target_;r&&r!==$;){var i=H(r,e);if(i){n=Br(i,this.defaultAnnotation_,this.autoBind_);break}r=Object.getPrototypeOf(r)}if(void 0===n&&V(1,"true",e),!this.isPlainObject_){var o=Object.getPrototypeOf(this.target_);pe(o,ur)||re(o,ur,new Map),o[ur].set(e,n)}return n},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1);try{$t();var r=this.delete_(e);if(!r)return r;if(Nn(this)){var i=Ln(this,{object:this.proxy_||this.target_,name:e,type:tr,newValue:t.value});if(!i)return null;var o=i.newValue;t.value!==o&&(t=fe({},t,{value:o}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else G(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{qt()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1);try{$t();var i=this.delete_(e);if(!i)return i;if(Nn(this)){var o=Ln(this,{object:this.proxy_||this.target_,name:e,type:tr,newValue:t});if(!o)return null;t=o.newValue}var a=fr(e),s={configurable:!Ft.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,e,s))return!1}else G(this.target_,e,s);var c=new Ot(t,n,"ObservableObject.key",!1);this.values_.set(e,c),this.notifyPropertyAddition_(e,c.value_)}finally{qt()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1);try{$t();var r=this.delete_(e);if(!r)return r;if(Nn(this))if(!Ln(this,{object:this.proxy_||this.target_,name:e,type:tr,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=fr(e),o={configurable:!Ft.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,o))return!1}else G(this.target_,e,o);this.values_.set(e,new wt(t)),this.notifyPropertyAddition_(e,void 0)}finally{qt()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!pe(this.target_,e))return!0;if(Nn(this)&&!Ln(this,{object:this.proxy_||this.target_,name:e,type:pr}))return null;try{var n,r;$t();var i,o=Bn(this),a=this.values_.get(e),s=void 0;if(!a&&o)s=null==(i=H(this.target_,e))?void 0:i.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(a&&(this.values_.delete(e),a instanceof Ot&&(s=a.value_),Kt(a)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),o){var c={type:pr,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:e};0,o&&Vn(this,c)}}finally{qt()}return!0},t.observe_=function(e,t){return Un(this,e)},t.intercept_=function(e){return jn(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=Bn(this);if(i){var o=i?{type:tr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;0,i&&Vn(this,o)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),ue(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function mr(e,t){var n;if(pe(e,we))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new _r(e,new Map,String(r),function(e){return e?!0===e.deep?Ze:!1===e.deep?Xe:e.defaultDecorator:void 0}(t),null==t?void 0:t.autoBind);return re(e,we,i),e}var hr=oe("ObservableObjectAdministration",_r);function fr(e){return dr[e]||(dr[e]={get:function(){return this[we].getObservablePropValue_(e)},set:function(t){return this[we].setObservablePropValue_(e,t)}})}function br(e){return!!te(e)&&hr(e[we])}function vr(e,t,n){var r;null==(r=e.target_[Oe])||delete r[n]}function gr(e,t,n){}var yr,Or,Sr=0,Ir=function(){};yr=Ir,Or=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(yr.prototype,Or):void 0!==yr.prototype.__proto__?yr.prototype.__proto__=Or:yr.prototype=Or;var wr=function(e){function t(t,n,r,i){var o;void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),o=e.call(this)||this;var a=new Hn(r,n,i,!0);if(a.proxy_=ve(o),ie(ve(o),we,a),t&&t.length){var s=vt(!0);o.spliceWithArray(0,0,t),gt(s)}return o}be(t,e);var n=t.prototype;return n.concat=function(){this[we].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Qn(e)?e.slice():e})))},n[Symbol.iterator]=function(){var e=this,t=0;return jr({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},he(t,[{key:"length",get:function(){return this[we].getArrayLength_()},set:function(e){this[we].setArrayLength_(e)}},{key:Symbol.toStringTag,get:function(){return"Array"}}]),t}(Ir);function kr(e){G(wr.prototype,""+e,function(e){return{enumerable:!1,configurable:!0,get:function(){return this[we].get_(e)},set:function(t){this[we].set_(e,t)}}}(e))}function Ar(e){if(e>Sr){for(var t=Sr;t<e+100;t++)kr(t);Sr=e}}function Tr(e,t,n){return new wr(e,t,n)}function Cr(e,t){if("object"==typeof e&&null!==e){if(Qn(e))return void 0!==t&&V(23),e[we].atom_;if(lr(e))return e[we];if(ar(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||V(25,t,Pr(e)),n}if(br(e)){if(!t)return V(26);var r=e[we].values_.get(t);return r||V(27,t,Pr(e)),r}if(Ae(e)||kt(e)||Qt(e))return e}else if(Q(e)&&Qt(e[we]))return e[we];V(28)}function Er(e,t){return e||V(29),void 0!==t?Er(Cr(e,t)):Ae(e)||kt(e)||Qt(e)||ar(e)||lr(e)?e:e[we]?e[we]:void V(24,e)}function Pr(e,t){var n;if(void 0!==t)n=Cr(e,t);else{if(dn(e))return e.name;n=br(e)||ar(e)||lr(e)?Er(e):Cr(e)}return n.name_}Object.entries($n).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&re(wr.prototype,t,n)})),Ar(1e3);var Rr=$.toString;function xr(e,t,n){return void 0===n&&(n=-1),Dr(e,t,n)}function Dr(e,t,n,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;if(!Q(o)&&"object"!==o&&"object"!=typeof t)return!1;var a=Rr.call(e);if(a!==Rr.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=Nr(e),t=Nr(t);var s="[object Array]"===a;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var c=e.constructor,l=t.constructor;if(c!==l&&!(Q(c)&&c instanceof c&&Q(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var u=(r=r||[]).length;u--;)if(r[u]===e)return i[u]===t;if(r.push(e),i.push(t),s){if((u=e.length)!==t.length)return!1;for(;u--;)if(!Dr(e[u],t[u],n-1,r,i))return!1}else{var d,p=Object.keys(e);if(u=p.length,Object.keys(t).length!==u)return!1;for(;u--;)if(!pe(t,d=p[u])||!Dr(e[d],t[d],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function Nr(e){return Qn(e)?e.slice():ae(e)||ar(e)||se(e)||lr(e)?Array.from(e.entries()):e}function jr(e){return e[Symbol.iterator]=Lr,e}function Lr(){return this}function Br(e,t,n){return e.get?ut:!e.set&&(Q(e.value)?(r=e.value,!(i=null==r?void 0:r.constructor)||"GeneratorFunction"!==i.name&&"GeneratorFunction"!==i.displayName?!dn(e.value)&&(n?un.bound:un):!kn(e.value)&&In):t);var r,i}["Symbol","Map","Set","Symbol"].forEach((function(e){void 0===F()[e]&&V("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:Pr},$mobx:we});const Ur=window.ReactDOM;let Vr;!function(e){!0===e.isolateGlobalState&&function(){if((Ft.pendingReactions.length||Ft.inBatch||Ft.isRunningReactions)&&V(36),Mt=!0,Vt){var e=F();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),Ft=new Ut}}();var t,n,r=e.useProxies,i=e.enforceActions;if(void 0!==r&&(Ft.useProxies=r===vn||"never"!==r&&"undefined"!=typeof Proxy),"ifavailable"===r&&(Ft.verifyProxies=!0),void 0!==i){var o=i===vn?vn:"observed"===i;Ft.enforceActions=o,Ft.allowStateChanges=!0!==o&&o!==vn}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(Ft[t]=!!e[t])})),Ft.allowStateReads=!Ft.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=Zt,Zt=function(e){return t((function(){return n(e)}))})}({useProxies:"never",enforceActions:"never",reactionScheduler:n.n(Ur)().unstable_batchedUpdates});const Mr=()=>Vr;function Fr(e){if(!e||!e[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");const t={};for(const[n,r]of e)t[n]=r;return t}const zr=(e,t)=>({name:e,parser:t,serialize:e=>e}),Hr=()=>Object.assign({},zr("boolean",T)),Gr=()=>Object.assign({},zr("json",R)),$r=e=>Object.assign({},zr("number",A),{min:null==e?void 0:e.min}),qr=e=>Object.assign({},zr("string",k),{maxLength:null==e?void 0:e.maxLength}),Wr=function(){return Object.assign({},zr("enum",j(...arguments)))},Kr=(e,t)=>t,Yr=e=>Object.assign({},e,{parser:E(e.parser),serialize:t=>void 0===t?void 0:e.serialize(t),optional:!0}),Zr=e=>({name:"object",props:e,parser:L(Fr(Object.entries(e).map((e=>{let[t,n]=e;return[t,n.parser]})))),serialize:t=>Fr(Object.entries(e).map((e=>{let[n,r]=e;return[n,r.serialize(t[n])]})))}),Xr=e=>({name:"snakeCaseObject",props:e,parser:I(Fr(Object.entries(e).map((e=>{let[t,n]=e;return[t,n.parser]})))),serialize:t=>Fr(Object.entries(e).map((e=>{let[n,r]=e;return[l(n),r.serialize(t[n])]})))}),Jr=(e,t)=>({name:"intersection",props:Object.assign({},e.props,t.props),parser:S(e.parser,t.parser),serialize:n=>Object.assign({},e.serialize(n),t.serialize(n))}),Qr=e=>({name:"array",parser:B(e.parser),serialize:t=>t.map(e.serialize)}),ei=e=>({name:"record",parser:(t,n)=>U(e.parser)(t,n),serialize:t=>Fr(Object.entries(t).map((t=>{let[n,r]=t;return[n,e.serialize(r)]})))}),ti=e=>({name:"model",props:e.props,parser:(t,n)=>{const r=Mr();if(!r)throw new Error("Parsing model instance outside of zest");const i=(0,e.objectType.parser)(t,n);return r.createInstance(e,i)},serialize:t=>e.objectType.serialize(t)}),ni=ei(qr()),ri=ni.parser,ii=qr(),oi=ii.parser,ai=ei(Yr(Gr())),si=ai.parser,ci=(Xr({bulkParams:ii,statEvents:ni,bulkData:Yr(ai)}).parser,I({id:E(k),itemType:E(k),cardType:E(k),pos:E(A),source:E(I({id:k,type:k,status:k,isVerified:T})),publisherId:E(k),publicationObjectId:E(k),bulkParams:E(k),bulkData:E(si),video:E(I({isShortVideo:T}))})),li=e=>a(ci,e,`prepareStatData id=${null==e?void 0:e.id} type=${null==e?void 0:e.type}`),ui=O(S(I({bulkParams:k}),O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.AUTHOR_POPULAR_END,id:y(f.AUTHOR_POPULAR_END),receiveTime:Date.now(),pos:0})));function di(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const pi=Wr("publisher","domain","user"),_i=pi.parser,mi=Wr("subscribed","not_subscribed","blocked"),hi=mi.parser,fi=Xr({ratio_1x1:Yr(qr())}),bi=Xr({strongestId:qr(),id:qr(),type:pi,status:mi,title:qr(),logo:qr(),logoBackgroundColor:qr(),feedLink:qr(),subtitle:Yr(qr()),description:Yr(qr()),feedApiLink:qr(),subscriptionForbidden:Yr(Hr()),subscribers:Yr($r()),redesignLogos:Yr(fi),isVerified:Hr(),metricaId:Yr($r()),bulkParams:Yr(qr()),bulkData:Yr(ai),statEvents:Yr(ni),freshChannelTitle:Yr(qr()),isMyChannel:Yr(Hr()),publisherId:Yr(qr())}).parser,vi=e=>(t,n)=>(n.assert("object"==typeof t&&Array.isArray(t),"array",typeof t),t.map(((t,r)=>n.deepen(String(r),(()=>{try{return e(t,n)}catch(e){const t=e instanceof Error?e:new Error(String(e));return void n.onError(t.message)}})))).filter((e=>void 0!==e))),gi=(e,t)=>(t.assert(c(e),"object",typeof e),e);let yi;!function(e){e.direct="direct",e.myTarget="mytarget"}(yi||(yi={}));const Oi=O(L({dspId:A,session_id:k,container_id:E(k)}),(e=>0!==Object.keys(e).length?{dspId:e.dspId,sessionId:e.session_id,containerId:e.container_id}:void 0)),Si=I({items:vi(gi)}),Ii=I({bulkData:E(si),bulkParams:k,domElemId:k,partnerStatId:E(k),pixelsData:E(Oi),slotId:E(k),blockId:E(k),isJsonRequest:E(T),jsonContent:E(Si)}),wi=S(Ii,I({type:x(yi.direct),blockId:k})),ki=S(Ii,I({type:x(yi.myTarget),slotId:k,isJsonRequest:E(T),jsonContent:E(Si)})),Ai=_("type",{[yi.direct]:wi,[yi.myTarget]:ki}),Ti=e=>{if(e)try{return a(Ai,e,"Parse AdvertTgo")}catch(e){return}},Ci=I({modalInRollPlayingTimerSec:E(A),modalPlayInRollAdSec:E(A),playerSkipAllAdPods:E(T),playerWithAdCountdown:E(T)}),Ei=I({adVideoConfigData:E(Ci),pixelsData:E(Oi),categoryId:E(A),type:E(k),impId:E(A),pageId:E(k),slotId:E(k)}),Pi=e=>{var t;if(e)return{category:void 0!==e.categoryId?e.categoryId:1016,hasPreroll:!1,partnerId:e.pageId?parseInt(e.pageId,10):void 0,skipAllAdPods:null==(t=e.adVideoConfigData)?void 0:t.playerSkipAllAdPods,slotId:e.slotId,adProvider:"mytarget"===e.type?"mt":e.type}},Ri=j("promo","special"),xi=I({type:Ri,text:k}),Di=I({isLiked:T,isDisliked:T}),Ni=e=>e?e.isLiked?"liked":e.isDisliked?"disliked":null:null,ji=L({id:k,type:k,text:k,stats:L({statEvents:E(ri),bulkParams:k,bulkData:E(si)})}),Li=L({type:x("extended_dislike_feedback"),displayType:x("ask_on_dislike"),id:k,text:k,answers:B(ji)}),Bi=I({id:k,type:k,text:k}),Ui=_("type",{extended_dislike_feedback:Li,zoloka_interest_feedback:I({type:x("zoloka_interest_feedback"),displayType:x("ask_on_click"),id:k,text:k,answers:B(Bi)})}),Vi=I({questions:B(Ui)}),Mi=e=>Object.keys(e).map((t=>e[t])),Fi=I({channelInfoSubscribed:k,channelInfoUnsubscribed:k}),zi=j("interest","new_subscription","subscribed","turbo"),Hi=I({type:E(zi),b:E(k),w:E(k)});let Gi;!function(e){e.trend="trend",e.subject="subject",e.none="none",e.alice_found="alice_found",e.alice_similar_recommend="alice_similar_recommend",e.visibility_type="visibility_type",e.is_pinned="is_pinned",e.origin="original"}(Gi||(Gi={}));const $i=j(...Mi(Gi)),qi=I({text:E(k),isBold:E(T),link:E(k)}),Wi=I({type:E($i),title:E(k),subtitle:E(k)}),Ki=I({type:E($i),parts:E(B(qi)),link:E(k),feedApiLink:E(k),feedLink:E(k)}),Yi=L({recommendations_channels:E(k)});let Zi;!function(e){e.NOT_SAVED="not_saved",e.SAVED="saved",e.SAVE_ERROR="save_error",e.REMOVE_ERROR="remove_error"}(Zi||(Zi={}));const Xi=L({link:E(k),icon:E(k),title:k,subtitle:E(k)}),Ji=L({type:k,enable:Xi,disable:E(Xi)}),Qi=I({briefExpand:E(B(k)),videoRatingView:E(B(k))}),eo=I({id:k,pos:E(A),type:k,itemType:E(k),bulkParams:E(k),bulkData:E(si),statEvents:E(ri)}),to=E(I({repostUrl:E(k)})),no=S(eo,I({source:bi,isPinned:E(T),link:k,shareLink:E(k),domainTitle:k,customUserFeedbackData:E(Vi),badges:E(B(xi)),zenLogo:E(Hi),promoLabel:E(Fi),rtbLabel:E(Wi),recommendLabel:E(Wi),richRecommendLabel:E(Ki),feedbackInfo:E(Di),creationTime:E(k),publicationDate:E(k),views:E(A),read:E(T),bidFloor:E(A),requireUserData:E(T),more:E(Yi),isPromoPublication:E(T),menu:E(B(Ji)),publicationPixels:E(Qi),publicationId:E(k),isSavedToBookmarks:E(T),sharingMenu:to})),ro=S(no,I({ad:E(Ai)})),io=no,oo=I({commentsDocumentId:k,allCommentsLink:k,publisherId:k,channelOwnerUid:A}),ao=L({commentCount:E(A),commentsEnabled:E(T),likesCount:E(A),avatarUrls:E(B(k))}),so=O(L({socialInfo:E(ao)}),(e=>{if(e.socialInfo){const{commentCount:t,commentsEnabled:n,likesCount:r,avatarUrls:i}=e.socialInfo;return{socialInfo:{commentCount:t,commentsEnabled:n,likeCount:r,likesCount:r,commentatorAvatars:i}}}return e})),co=I({logo:k,framedLogo:E(k),logoSizes:U(k),logoBackgroundColor:k}),lo=I({id:k,itemId:E(A),type:x("suite"),name:k,description:E(k),image:E(co),feedLink:E(k),feedShareLink:E(k),feedApiLink:E(k),publicationsCount:A,bulkParams:E(oi),bulkData:E(si),source:E(bi),ogImage:E(k)}),uo=(I({items:B(lo),allSuiteLink:k,addSuiteLink:E(k),more:E(k)}),I({suiteId:k})),po=I({suites:E(B(uo))}),_o=I({type:x("text"),data:k}),mo=L({type:x("tag"),name:k,attribs:U(k),children:B((e=>{let t;return(n,r)=>{var i;return t=null!=(i=t)?i:e(),t(n,r)}})((()=>ho)))}),ho=_("type",{tag:mo,text:_o}),fo=L({length:E(A),json:B(ho)}),bo=e=>{let{json:t,mentions:n}=e;const r=(e=>{const t=Object.create(null);return e&&e.length?e.reduce(((e,t)=>(t.publisherId&&(e[t.publisherId]=t),e)),t):t})(n);let i=0;const o=()=>""+i++,a=e=>e.reduce(((e,t)=>("text"===t.type&&""!==t.data&&e.push({type:"text",data:t.data.replace(/\u200e/g,""),key:o()}),e)),[]),s=t.reduce(((e,t)=>{"tag"===t.type&&"br"===t.name&&(0===e.currentP.length?e.res.push({type:"space",children:[],key:o()}):(e.res.push({type:"p",children:e.currentP,key:o()}),e.res.push({type:"newline",children:[],key:o()})),e.currentP=[]);const n="tag"===t.type&&"a"===t.name;if(n&&"tag-with-mention"===t.attribs.type){const{publisherId:n}=t.attribs,i=n?r[n]:void 0;return null!=i&&i.feedLink?e.currentP.push({type:"mention",href:i.feedLink,children:a(t.children),key:o()}):e.currentP.push(...a(t.children)),e}return n&&e.currentP.push({type:"link",href:t.attribs.href,children:a(t.children),key:o()}),e.currentP.push(...a([t])),e}),{res:[],currentP:[]});return s.currentP.length&&s.res.push({type:"p",children:s.currentP,key:o()}),s.res},vo=I({width:A,height:A,link:k,preview:E(k),blurredLink:E(k)}),go=I({type:x("image"),image:vo,viewerImage:E(vo),mainColor:k,richText:E(fo),stubImage:E(k),isGifStub:E(T),isVideoNotConvertedStub:E(T)}),yo=O(S(Ai,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C()}))),Oo=I({ad:E(yo)}),So=["id","items","promoLabel","richText","zenLogo","feedbackInfo"],Io=_("type",{image:go}),wo=O(S(ro,oo,so,po,I({items:B(Io),richText:E(fo),publicationObjectId:E(k)}),Oo,O(ci,(e=>({statData:e})))),(e=>{const{id:t,items:n,promoLabel:r,richText:i,zenLogo:o,feedbackInfo:a}=e,s=di(e,So),c=n.map((e=>ko(e))),l=Ao(i),u=Ni(a);return Object.assign({},s,{feedback:u,galleryItems:c,galleryText:l,id:t,labelIcon:o,labelText:r,hasBadText:!1,source:Object.assign({},s.source,{bulkParams:s.bulkParams}),feedItemUniqId:C(),type:f.GALLERY,receiveTime:Date.now(),pos:e.pos||0})})),ko=e=>Object.assign({},e,{hasBadImage:!1,hasBadText:!1,galleryText:Ao(e.richText)}),Ao=e=>e?bo({json:e.json,mentions:void 0}):void 0,To=["origSize"];let Co;!function(e){e.zenBrief="zen_brief",e.zenLogos="zen-logos",e.zenNarrativeSlides="zen-narrative-slides",e.zenPersonal="zen-personal",e.zenPubOg="zen-pub-og",e.zenQr="zen-qr",e.zenBriefEmbed="zen_brief_embed",e.zenGallery="zen_gallery",e.zenPictures="zen_pictures",e.zenSocial="zen_social",e.zenComments="zen_comments",e.zenDoc="zen_doc",e.zenVh="zen-vh",e.unknown="unknown"}(Co||(Co={}));const Eo=O(I({id:E(k),namespace:N(Co),preview:E(k),wasRotated:E(T),height:A,width:A,origSize:I({width:A,height:A}),meta:I({mainColor:k,origFormat:E(k)}),urlTemplate:k,sizeName:k,blurredLink:E(k),link:E(k),isAdult:E(T)}),(e=>{if(!e.wasRotated)return e;const{origSize:{width:t,height:n}}=e,r=di(e,To);return Object.assign({},r,{wasRotated:!1,origSize:{width:n,height:t}})})),Po=I({type:x("image"),image:Eo,viewerImage:E(Eo),richText:E(fo),stubImage:E(k),isGifStub:E(T),isVideoNotConvertedStub:E(T),mainColor:k}),Ro=Zr({id:qr(),namespace:(xo=Co,Object.assign({},zr("enum",N(xo)))),preview:Yr(qr()),wasRotated:Yr(Hr()),height:$r(),width:$r(),origSize:Zr({width:$r(),height:$r()}),meta:Zr({mainColor:qr(),origFormat:Yr(qr())}),urlTemplate:qr(),sizeName:qr(),isAdult:Yr(Hr())});var xo;Zr({type:(Do="image",Object.assign({},zr("literal",x(Do)))),image:Ro,mainColor:qr()});var Do;const No=function(e,n){void 0===n&&(n=console.error);const r=D(e);return(i,a)=>{const s=[];for(const c of r)try{const r=o((e=>{throw s.push(`${String(c)}: ${e}`),""}));return(0,e[c])(i,t({originalContext:a,onAssert:r,onError:n}))}catch(e){}return a.assert(0===s.length,`successful parsing by one of parsers: ${r.join(",")}`,`all failed: [\n\t${s.join(";\n\t")}\n]`),(0,e[r[0]])(i,t({originalContext:a,onAssert:()=>{},onError:n}))}},jo=I({link:k,preview:E(k),width:A,height:A,mainColor:E(k),blurredLink:E(k)}),Lo=No({old:jo,new:Eo}),Bo=e=>{const[,t,n]=e.match(/^[^/]+\/\/[^/]+\/get-([^/]+)\/[^/]+\/[^/]+\/([^/?&]+)/)||[],r=e.slice(0,e.lastIndexOf("/")+1),i=r&&t&&n?`${r}{size}`:e;return{namespace:t||Co.unknown,sizeName:n||"unknown_size_name",urlTemplate:i}},Uo=O(Lo,(e=>{if("urlTemplate"in e)return e;const{width:t,height:n,blurredLink:r,preview:i,mainColor:o}=e,{namespace:a,sizeName:s,urlTemplate:c}=Bo(e.link);return{namespace:a,sizeName:s,urlTemplate:c,width:t,height:n,origSize:{width:t,height:n},blurredLink:r,preview:i,meta:{mainColor:o||""},link:e.link}})),Vo=["video_content_id","partner_stat_id"],Mo=L({bitrate:A,height:A,width:A,url:k}),Fo=B(Mo),zo=I({videoContentId:E(k)}),Ho=O(L({duration:E(A),from:k,partner_stat_id:E(k),puid:E(k),video_content_id:E(k),from_block:E(k),strongest_id:E(k),item_id:E(k),stream_block:E(k),rid:E(k),ppi:E(k)}),(e=>{let{video_content_id:t,partner_stat_id:n}=e,r=di(e,Vo);return Object.assign({"video-content-id":t,"partner-stat-id":n},r)})),Go=(I({modalPlayInRollAdSec:E(A),modalInRollPlayingTimerSec:E(A),playerWithAdCountdown:E(T),playerSkipAllAdPods:E(T)}),I({ad:E(Ei),additionalParams:E(Ho),autoplay:T,isShortVideo:E(T),duration:E(A),hasSound:T,heartbeatPos:E(B(A)),height:E(A),id:k,streams:E(B(k)),videoInfo:E(zo),views:E(A),viewsFormatted:E(k),width:E(A),videoFeedUrl:E(k),viewedTime:E(A),viewedTimeView:E(A),firstFrames:E(Fo),previews:E(U(k)),longPreviews:E(U(k))})),$o=["ad","isShortVideo","width","height"],qo=["callToAction","expandDelay","expandType","feedbackInfo","image","commonImage","promoLabel","rtbLabel","recommendLabel","text","title","video","zenLogo","source","isPromoPublication"];var Wo;let Ko;!function(e){e.external="external",e.video="video",e.article="article",e.market="market",e.beru="beru"}(Wo||(Wo={})),function(e){e.None="none",e.Auto="auto",e.StopAndGo="stop_and_go",e.ClickToSite="click_to_site"}(Ko||(Ko={}));const Yo=I({bulkParams:E(k),bulkData:E(si),id:E(k),pos:E(A),statEvents:E(ri),type:k}),Zo=L({ratio_1x1:E(k)}),Xo=I({feedApiLink:k,feedLink:k,logo:k,logoBackgroundColor:k,status:hi,id:k,strongestId:k,subscriptionForbidden:E(T),title:k,description:E(k),isVerified:E(T),type:_i,redesignLogos:E(Zo),metricaId:E(A)}),Jo=j("promo","special"),Qo=L({type:Jo,text:k}),ea=I({source:E(Xo),text:E(k),title:E(k),creationTime:E(k),publicationDate:E(k),recommendReason:E(k),more:E(Yi)}),ta=I({isLiked:T,isDisliked:T}),na=I({link:E(k),shareLink:E(k),read:E(T),feedbackInfo:E(ta),badges:E(B(Qo)),commentsDocumentId:E(k),allCommentsLink:E(k),oneCommentLink:E(k)}),ra=I({promoLabel:E(Fi),rtbLabel:E(Wi),recommendLabel:E(Wi),richRecommendLabel:E(Ki),zenLogo:E(Hi),isPromoPublication:E(T)}),ia=N(Wo),oa=I({buttonName:k,description:E(k),linkId:E(k),linkInfoUrl:E(k),logo:E(I({url:E(k),mainColor:k})),priceUrl:E(k),title:k,type:E(ia),urlType:E(k),url:k,videoCallToActionTimestamp:E(A)}),aa=N(Ko),sa=I({link:E(B(k)),videoFullView:E(B(k)),videoExpand:E(B(k)),show:E(B(k))}),ca=I({design:E(k),imageLink:E(k),faviconLink:E(k),linkToOpen:k,linkToShow:k,title:E(k)}),la=I({callToAction:E(oa),expandDelay:E(A),expandType:E(aa),stopAndGoExternalUrl:E(k),videoPixels:E(sa),video:Go,channelOwnerUid:E(A),publisherId:E(k),publicationObjectId:E(k),flightId:E(k),swipeToSite:E(ca),adDisable:E(T),videoNotConvertedStub:E(x(!1))}),ua=I({type:x("video"),videoNotConvertedStub:x(!0),stubImage:E(k)}),da=e=>{if(e)return Object.assign({},e,{logo:e.logo&&e.logo.url?{logoUrl:e.logo.url,mainColor:e.logo.mainColor}:void 0})},pa=O(S(Yo,ea,na,ra,la,so,I({commonImage:E(Eo),image:No({url:k,object:Eo}),imageDesignV3:E(Uo),bigCardImage:E(k),blurredPreview:E(k)})),(e=>{var t;let n,{callToAction:r,expandDelay:i,expandType:o,feedbackInfo:a,image:s,commonImage:c,promoLabel:l,rtbLabel:u,recommendLabel:d,text:p="",title:_="",video:{ad:m,isShortVideo:h=!1,width:f=0,height:b=0}={},zenLogo:v,source:g,isPromoPublication:y}=e,O=di(e.video,$o),S=di(e,qo);if(c)n=c;else if("string"==typeof s){var I;const{namespace:e,sizeName:t,urlTemplate:r}=Bo(s);n={urlTemplate:r,width:f,height:b,meta:{mainColor:(null==(I=S.imageDesignV3)?void 0:I.meta.mainColor)||"transparent"},namespace:e,sizeName:t,origSize:{width:f,height:b},preview:void 0,link:s}}else n=s;const w={hasImage:!0,image:n},k=(e=>e?e.isLiked?"liked":e.isDisliked?"disliked":null:null)(a);return Object.assign({callToAction:da(r),expandDelaySec:i||5,expandType:o||"none",feedback:k,labelIcon:v,labelText:l,rtbLabel:u||d,isPromoPublication:y,text:p,title:_,mainColor:(null==(t=S.imageDesignV3)?void 0:t.meta.mainColor)||"",video:Object.assign({width:f,height:b,adConfig:Pi(m),isShortVideo:null!=h&&h},O),source:Object.assign({},g,{statEvents:S.statEvents,bulkParams:S.bulkParams,bulkData:S.bulkData})},w,S,{type:"video",videoNotConvertedStub:!1})})),_a=d("videoNotConvertedStub",ua,pa),ma=e=>Object.assign({},e,e.richText&&{richText:bo({json:e.richText.json,mentions:void 0})}),ha=e=>(null==e?void 0:e.map(ma))||[],fa=(_("type",{image:O(Po,ma),video:_a}),I({width:A,height:A,mainColor:k,src:k})),ba=I({area:k,image:E(fa),withPlus:E(T)}),va=I({templateAreas:B(k),items:B(ba)});let ga,ya,Oa;!function(e){e.single_choice="single_choice"}(ga||(ga={})),function(e){e.anonymous="anonymous"}(ya||(ya={})),function(e){e.success="success",e.failed="failed",e.notAuthorized="not_authorized"}(Oa||(Oa={}));const Sa=j(...Mi(ga)),Ia=j(...Mi(ya)),wa=j(...Mi(Oa)),ka=I({text:k,isCorrect:E(T)}),Aa={answers:B(A),myAnswers:B(T),percentages:B(A),totalAnswers:A},Ta=I(Object.assign({},Aa)),Ca=(I(Object.assign({},Aa,{pollId:k})),{pollId:k,type:Sa,anonymityType:Ia,title:k,items:B(ka)}),Ea=I(Object.assign({},Ca,{result:E(Ta),resultStatus:E(wa)})),Pa=(L(Object.assign({},Ca)),_("type",{image:Po,video:I({type:x("video"),image:Eo,mainColor:k,richText:E(fo),video:I({duration:A})})}));let Ra;!function(e){e.brief="brief",e.gif="gif",e.native="native",e.live="live"}(Ra||(Ra={}));const xa=I({id:k,itemId:E(k),logo:Eo,name:E(k),nickname:E(k),isVerified:T,url:k}),Da=I({publicationObjectId:k,itemId:k,link:k,creationTime:k,source:xa,stats:I({bulkParams:E(k),bulkData:E(si),statEvents:U(k)})}),Na=I({items:B(Pa),richText:E(fo),embed:E(I({src:k})),poll:E(Ea),gridMobile:E(va),gridDesktop:E(va)}),ja=I({title:k,video:E(I({isShortVideo:T,duration:E(A)})),image:E(Eo)}),La=I({title:k,text:k,image:E(Eo)}),Ba=I({title:k,text:k,image:E(Eo)}),Ua=S(Da,I({itemType:x(Ra.brief),content:Na})),Va=S(Da,I({itemType:x(Ra.native),content:La})),Ma=S(Da,I({itemType:x(Ra.gif),content:ja})),Fa=S(Da,I({itemType:x(Ra.live),content:Ba})),za=m("itemType",{[Ra.brief]:Ua,[Ra.gif]:Ma,[Ra.native]:Va,[Ra.live]:Fa}),Ha={publisherId:k,publisherNickname:E(k),feedLink:E(k),feedApiLink:E(k)},Ga=I(Ha),$a=(L(Ha),_("type",{image:Po,video:pa})),qa=["mainColor","main_color"];let Wa,Ka;!function(e){e.site="site",e.video="video",e.zen="zen"}(Wa||(Wa={})),function(e){e[e.site=0]="site",e[e.video=1]="video"}(Ka||(Ka={}));const Ya=O(L({src:k,width:A,height:A,main_color:E(k),mainColor:E(k)}),(e=>{let{mainColor:t,main_color:n}=e,r=di(e,qa);return Object.assign({},r,{mainColor:t||n||"transparent"})})),Za=E(No({new:Eo,old:Ya})),Xa={src:k,title:k,imageId:E(k),image:E(Za)},Ja=Object.assign({type:x(Wa.site),typeId:E(x(Ka.site)),host:k,isBig:T},Xa),Qa=Object.assign({type:x(Wa.video),typeId:E(x(Ka.video)),host:k,isBig:T},Xa),es=Object.assign({type:x(Wa.zen)},Xa,{publisherName:k,isPublisherVerified:T,publishDate:E(k),typeId:E(A),isBig:E(T)}),ts=No({camel:L(Ja),snake:I(Ja)}),ns=No({camel:L(Qa),snake:I(Qa)}),rs=_("type",{[Wa.site]:ts,[Wa.video]:ns}),is=(_("type",{[Wa.site]:ts,[Wa.video]:ns,[Wa.zen]:No({camel:L(es),snake:I(es)})}),I({link:k,title:k})),os=I({items:E(B($a)),richText:E(fo),embed:E(rs),repost:E(za),mentions:E(B(Ga)),poll:E(Ea),promoCallToAction:E(is),publicationObjectId:E(k),itemType:k,type:k,modificationTime:E(k)}),as=S(ro,oo,os,so,I({heartbeatPos:B(A),bulkParamsForSnippet:E(k),menu:B(Ji),gridMobile:E(va),recDebugParams:E(k),promoGallery:E(R)}),po),ss=O(S(as,Oo,O(ci,(e=>({statData:e})))),(e=>{const{items:t,richText:n,promoLabel:r,rtbLabel:i,recommendLabel:o,zenLogo:a,heartbeatPos:s,feedbackInfo:c,mentions:l,promoGallery:u}=e;return Object.assign({},e,{mentions:l,items:ha(t),text:n&&bo({json:n.json,mentions:l}),labelText:r,labelIcon:a,rtbLabel:i||o,heartbeatPos:s||[],source:Object.assign({},e.source,{bulkParams:e.bulkParams}),feedback:Ni(c),promoGallery:Boolean(u),feedItemUniqId:C(),type:f.BRIEF,receiveTime:Date.now(),pos:e.pos||0})})),cs=I({bulkParams:k,bulkData:E(si),id:k,type:x("onboarding_interest"),domain:k,image:k}),ls=S(eo,I({bulkParams:k,bulkData:E(si),id:k,type:k,items:B(cs),header:L({title:k,subtitle:k}),footer:L({title:k,subtitle:k}),finishBlock:L({title:k,subtitle:k}),finishButton:I({placeholderText:k,submitText:k,bulkParams:k,bulkData:E(si)}),changeInterestButton:I({text:k,bulkParams:k,bulkData:E(si)}),likedInterests:B(k),eventsToSendOnShow:E(I({feedbackFavourite:B(k)}))})),us=O(S(ls,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.ONBOARDING_INTEREST_LIST,id:e.id||y(f.ONBOARDING_INTEREST_LIST),receiveTime:Date.now(),pos:e.pos||0})));const ds=e=>{const t=s(jo,e,"image-v3");return t.link?t:void 0},ps=["video_content_id","partner_stat_id"],_s=L({vcid:k,stream:k,width:A,height:A}),ms=e=>s(_s,e,"video.tsx"),hs=O(L({duration:E(A),from:k,partner_stat_id:E(k),puid:E(k),video_content_id:E(k),from_block:E(k),strongest_id:E(k),item_id:E(k),stream_block:E(k),rid:E(k),ppi:E(k)}),(e=>{let{video_content_id:t,partner_stat_id:n}=e,r=di(e,ps);return Object.assign({"video-content-id":t,"partner-stat-id":n},r)})),fs=L({js:L({load:B(k),preload:B(k)}),css:L({load:B(k),preload:B(k)})}),bs=(L({version:k,player:fs,playerAbd:fs,playerSkin:fs,vhPlayer:fs,vhPlayerJs:fs,flags:E(k),slots:E(k)}),L({bitrate:A,height:A,width:A,url:k})),vs=(B(bs),I({text:k,mongoId:k,channelApiUrl:k,feedLink:E(k),source:(gs=bi,(e,t)=>{return gs(e,(n=t,Object.assign({},n,{isPartialObject:!0})));var n})}));var gs;const ys=e=>void 0===e,Os=e=>{let{strongest_id:t,public_id:n,type:r,status:i,name:o,title:a,logo:s,logo_sizes:c,framed_logo:l,header_background_image:u,header_background_video:d,cover:p,logo_background_color:_,redesign_logos:m,feed_link:h,feed_share_link:f,feed_api_link:b,subtitle:v,description:g,subscribers:y,subscriptions:O,publications_count:S,social_links:I,main_external_link:w,public_phones:k,public_emails:A,is_verified:T,is_nirvana:C,link:E,has_new_publications:P,subscription_forbidden:R,user_comments_count:x,authors_likes_count:D,subscribers_avatars:N,id_color:j,is_agree_to_share_data:L,terms_of_use:B,third_party_can_use:U,new_agreement:V,is_my_channel:M,is_business_channel:F,publisher_id:z,metrica_id:H,recommendations_channels_link:G,owner_uid:$,viewer_image:q}=e;return{id:String(t),publicId:n,type:r,status:i,name:o,title:a,headerBackgroundImage:u?ds(u):void 0,headerBackgroundVideo:d?ms(d):void 0,cover:p,logo:s,subtitle:v,description:g,subscribers:y,subscriptions:O,publicationsCount:S,isVerified:T,isNirvana:C,framedLogo:l,logoSizes:(W=c,W?{framed_100x128_1x:W.framed_100x128_1x,framed_132x176_1x:W.framed_132x176_1x,framed_202x260_1x:W.framed_202x260_1x,framed_212x280_1x:W.framed_212x280_1x}:{}),logoBackgroundColor:_,redesignLogos:m,feedLink:h,feedShareLink:f,feedApiLink:b,socialLinks:Is(I),mainExternalLink:w,publicPhones:k,publicEmails:A,link:E,hasNewPublications:P,subscriptionForbidden:R,userCommentsCount:x,authorsLikesCount:D,subscribersAvatars:N,idColor:j,isAgreeToShareData:ys(L)||L,termsOfUse:B,thirdPartyCanUse:U,newAgreement:V,isMyChannel:M,isBusinessChannel:F,publisherId:z,metricaId:H,recommendationsChannelsLink:G,ownerUid:$,viewerImage:q};var W},Ss=e=>{let{source:t,bulk_params:n}=e;return Object.assign({},Os(t),{bulkParams:t.bulk_params||n})},Is=e=>Array.isArray(e)?e.map((e=>{let{link:t,name:n,image:r,social_network:i}=e;return{link:t,name:n,image:r,network:i}})):[],ws=e=>{let{feedback_info:t}=e;return t?t.is_liked?"liked":t.is_disliked?"disliked":null:null},ks=I,As=L,Ts=B,Cs=k,Es=A,Ps=j,Rs=E,xs=x,Ds=T,Ns=As({title:Cs}),js=As({like:Rs(Ns),dislike:Rs(Ns),click:Rs(Ns)}),Ls=e=>((e,t)=>s(e,t,""))(js,e),Bs=e=>{var t;return Object.assign({ad:Ti(e.ad),bidFloor:e.bid_floor?Number(e.bid_floor):void 0,domainTitle:e.domain_title,link:e.link,shareLink:e.share_link,urlHash:e.url_hash,logo:e.logo,blurredPreview:e.blurred_preview,cardColors:e.card_colors&&{card:e.card_colors.card,text:e.card_colors.text},reactions:e.reactions?Ls(e.reactions):void 0,mainColor:e.main_color,read:e.read,feedback:ws(e),feedLink:null==(t=e.source)?void 0:t.feed_link,commentsDocumentId:e.comments_document_id,allCommentsLink:e.all_comments_link,oneCommentLink:e.one_comment_link,badges:e.badges},(e=>({id:e.id,title:e.title||"",text:e.text||"",bulkParams:e.bulk_params,source:Os(e.source),creationTime:e.creation_time,publicationDate:e.publication_date,views:e.views,actionTime:e.action_time,requireUserData:e.require_user_data,pos:e.pos,receiveTime:Date.now(),rtbLabel:e.rtb_label||e.recommend_label,richRecommendLabel:e.rich_recommend_label,recommendReason:e.recommend_reason,labelText:e.promo_label&&{channelInfoSubscribed:e.promo_label.channel_info_subscribed,channelInfoUnsubscribed:e.promo_label.channel_info_unsubscribed}}))(e))},Us=e=>{var t;return e.image&&e.big_card_image,Object.assign({image:e.image,bigImage:e.big_card_image||e.image,width:e.width,height:e.height,smallImage_16x9:(null==(t=e.redesign_images)?void 0:t.ratio_16x9)||e.image},Bs(e))};let Vs;!function(e){e[e.YOUTUBE=1]="YOUTUBE",e[e.TELEGRAM=2]="TELEGRAM",e[e.TIKTOK=3]="TIKTOK",e[e.INSTAGRAM=4]="INSTAGRAM"}(Vs||(Vs={}));const Ms=e=>{let{page_id:t,category_id:n,ad_video_config_data:r,type:i,slot_id:o}=e;return{partnerId:t?parseInt(t,10):void 0,category:void 0!==n?n:1016,skipAllAdPods:null==r?void 0:r.playerSkipAllAdPods,hasPreroll:!1,slotId:o,adProvider:"mytarget"===i?"mt":i}},Fs=e=>{let{pixels_data:t}=e;if(t)return t},zs=e=>{let{has_sound:t,heartbeat_pos:n,first_frames:r,adult:i,id:o,streams:a,loop:c,player:l,provider:u,userAgent:d,video_info:p,music_info:_,additional_params:m,replay_count:h=2,autoplay:f,width:b,isShortVideo:v,height:g,duration:y,ad:O,views:S,views_formatted:I,viewed_time:w,viewed_time_view:k,video_feed_url:A,previews:T,long_previews:C}=e;return{hasSound:t,streams:a,heartbeatTimes:n,id:o,loop:c,player:l,isShortVideo:v,provider:u,userAgent:d,videoInfo:p?Qs(p):{},musicInfo:_?ec(_):{},additionalParams:s(hs,m,"parseVideo"),autoplay:f,firstFrames:r,replayCount:h,width:b,height:g,duration:y,adConfig:O&&Ms(O),views:S,viewsFormatted:I,viewedTime:w,viewedTimeView:k,videoFeedUrl:A,previews:T,longPreviews:C,adPixelData:O&&Fs(O),adult:i}};let Hs;!function(e){e.external="external",e.video="video",e.article="article",e.market="market",e.beru="beru"}(Hs||(Hs={}));const Gs=e=>{if(!e)return;const{button_name:t,description:n,logo:r,title:i,url:o,url_type:a,type:s,price_url:c,link_info_url:l,market_model_id:u,video_call_to_action_timestamp:d,link_id:p}=e;return{buttonName:t,description:n,logo:r?{logoUrl:r.url,mainColor:r.main_color}:void 0,title:i,url:o,urlType:a,type:s,priceUrl:c,appearanceTime:d,linkInfoUrl:l,marketModelId:u,linkId:p}},$s=e=>{const t={from_block:e.fromBlock,video_content_id:e.videoContentId,strongest_id:e.strongestId,item_id:e.itemId,stream_block:e.streamBlock,from:e.from,ppi:e.ppi,rid:e.rid,puid:e.puid};return e.duration&&(t.duration=e.duration),e.partnerStatId&&(t.partner_stat_id=e.partnerStatId),s(hs,t,"parseVideo")},qs=e=>{var t;const n={page_id:e.pageId,category_id:e.categoryId,ad_video_config:e.adVideoConfigData,type:e.type,slot_id:null!=(t=e.slotId)?t:void 0};return Ms(n)},Ws=e=>{var t;return null==(t=e.SingleStream[0])?void 0:t.PreviewTargetWidthToUrl},Ks=e=>{if(e.SingleStream[0]&&e.SingleStream[0].FirstFrameUrlPrefix){const t=e.SingleStream[0].FirstFrameUrlPrefix,n=[1920];return[1080].map(((e,r)=>{const i=n[r];return{bitrate:0,height:i,width:e,url:`${t}/${e}x${i}`}}))}return[]},Ys=e=>{const t=(e=>{var t;return((null==(t=e.SingleStream[0])?void 0:t.StreamInfo)||[]).map((e=>e.OutputStream))})(e.rawStreams);0===t.length&&console.error("Empty playlist streams");const n=t.length?t:e.video.id?[e.video.id]:[];return Object.assign({},e.video,{streams:n,previews:Ws(e.rawStreams),firstFrames:Ks(e.rawStreams),heartbeatTimes:e.video.heartbeatPos,additionalParams:$s(e.video.additionalParams),adConfig:e.video.ad&&qs(e.video.ad),adPixelData:e.video.ad&&e.video.ad.pixelsData})},Zs=e=>{e.image&&!e.big_card_image&&console.warn("no big_card_image",e);const t=function(e){if(e)return Object.keys(e).reduce(((t,n)=>{const{bulk_params:r,links:i}=e[n];return Object.assign({},t,{[n]:{bulkParams:r,links:i}})}),{})}(e.stat_params),n=Array.isArray(e.mentions)?e.mentions.map((e=>a(vs,e,"parseBaseVideo"))):void 0;return Object.assign({feedItemUniqId:C(),video:zs(e.video),stats:e.stats,channelOwnerUid:parseInt(e.channel_owner_uid,10),doc2docConfig:Js(e.doc2doc_config),publisherId:e.publisher_id,publicationId:e.publication_id,hasDescription:void 0===e.has_description||e.has_description,description:e.description,hasTags:void 0===e.has_tags||e.has_tags,callToAction:Gs(e.call_to_action),statParams:t,subscribeTriggerEvent:e.subscribeTriggerEvent||"click",flightId:e.flight_id},Us(e),{hasCallToAction:Boolean(e.call_to_action),creationTime:e.creation_time,metricaId:e.metrica_id,socialInfo:Xs(e.socialInfo),isPinned:e.is_pinned,mentions:n,adDisable:e.ad_disable,menu:e.menu,isSavedToBookmarks:e.is_saved_to_bookmarks})},Xs=e=>e?{commentCount:e.commentCount,commentsEnabled:e.commentsEnabled,likeCount:e.likesCount,commentatorAvatars:e.avatarUrls}:void 0,Js=e=>e?{activeTabId:e.active_tab_id,tabs:e.tabs}:void 0,Qs=e=>{const{video_content_id:t}=e;return{videoContentId:t}},ec=e=>{const{is_banned:t,author:n,title:r,type:i}=e;return{author:n,title:r,type:i,isBanned:t}},tc=["ad","isShortVideo"],nc=["bigCardImage","blurredPreview","callToAction","feedbackInfo","image","promoLabel","rtbLabel","recommendLabel","text","title","video","zenLogo","source","isPromoPublication","read"],rc=N(Hs),ic=I({buttonName:k,description:E(k),linkId:E(k),linkInfoUrl:E(k),logo:E(L({url:E(k),mainColor:k})),priceUrl:E(k),title:k,type:E(rc),urlType:E(k),url:k,videoCallToActionTimestamp:E(A)}),oc=I({link:E(B(k)),videoFullView:E(B(k)),videoExpand:E(B(k)),show:E(B(k))}),ac=e=>{if(e)return Object.assign({},e,{logo:e.logo&&e.logo.url?{logoUrl:e.logo.url,mainColor:e.logo.mainColor}:void 0})},sc=L({ratio_16x9_big:E(k),ratio_16x9:E(k),ratio_4x3:E(k),ratio_4x5:E(k),ratio_7x4:E(k)}),cc=I({title:k,id:k,url:k}),lc=I({activeTabId:k,tabs:B(cc)}),uc=O(S(ro,oo,so,po,I({publicationObjectId:E(k),doc2docConfig:E(lc),callToAction:E(ic),videoPixels:E(oc),video:Go,flightId:E(k),adDisable:E(T),text:E(k),title:E(k),description:E(k),hasDescription:E(T),hasTags:E(T),recommendReason:E(k),mentions:E(B(vs)),image:k,bigCardImage:E(k),blurredPreview:E(k),sharingMenu:to,redesignImages:E(sc),mainColor:E(k),width:E(A),height:E(A),metricaId:E(A),isDeleted:E(T)}),Oo,O(ci,(e=>({statData:e})))),(e=>{var t;const{bigCardImage:n,blurredPreview:r="",callToAction:i,feedbackInfo:o,image:a,promoLabel:s,rtbLabel:c,recommendLabel:l,text:u="",title:d="",video:{ad:p,isShortVideo:_},zenLogo:m,source:h,isPromoPublication:f,read:b}=e,v=di(e.video,tc),g=di(e,nc),y=Ni(o);return Object.assign({callToAction:ac(i),hasCallToAction:Boolean(i),feedback:y,labelIcon:m,labelText:s,rtbLabel:c||l,recommendLabel:l,isPromoPublication:f,text:u,title:d,read:Boolean(b),smallImage_16x9:(null==(t=g.redesignImages)?void 0:t.ratio_16x9)||a,video:Object.assign({ad:p,adConfig:Pi(p),isShortVideo:null!=_&&_},v),source:Object.assign({},h,{bulkParams:g.bulkParams}),hasImage:!0,image:a,bigImage:n||a,blurredPreview:r},g,{feedItemUniqId:C(),receiveTime:Date.now(),pos:g.pos||0})})),dc=(j("publisher","domain"),j("subscribed","not_subscribed","blocked"),ks({bulkParams:E(Cs),id:Cs,pos:Es,type:Cs,is_favorited:Ds})),pc=O(S(dc,L({items:B(uc),href:E(k)}),O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{type:f.SHORT_VIDEO_CAROUSEL,feedItemUniqId:C()}))),_c=(e,t)=>(n,r)=>{if(void 0===n)return t;try{return e(n,r)}catch(e){return t}},mc=I({text:k,forwardLink:E(k),nextScreenId:E(k)}),hc=I({id:k,type:x("message"),title:k,subtitle:E(k),autoCloseTimeout:E(A),bulkParams:E(k),bulkData:E(si),imageInfo:E(I({themeDarkLink:E(k),themeLightLink:E(k)})),withCloseButton:E(T),submitButton:E(mc)}),fc=B(L({image:L({link:k})})),bc=I({type:j("card","gif","short_video","gallery","brief","small_card"),title:E(k),source:bi,bulkParams:k,link:k,image:E(k),mentions:E(B(Ga)),text:E(k),richText:E(fo),publicationDate:E(k),creationTime:E(k),items:E(fc),itemType:E(k),video:E(Go),mainColor:E(k),blurredPreview:E(k)}),vc=ks({id:Cs,imageSrc:Rs(Cs),imageActiveSrc:Rs(Cs),nextScreenId:Rs(Cs)}),gc=ks({text:Cs,nextScreenId:Rs(Cs)}),yc=ks({id:Cs,type:xs("gradation_stars"),title:Cs,subtitle:Rs(Cs),answers:Ts(vc),skipButton:Rs(gc),publication:Rs(bc),bulkParams:Cs,bulkData:Rs(si)}),Oc=I({id:k,nextScreenId:E(k),title:k}),Sc=L({text:k,nextScreenId:E(k)}),Ic=I({id:k,type:x("gradation_rating"),title:k,imageInfo:E(I({themeDarkLink:E(k),themeLightLink:E(k)})),answers:B(Oc),submitButton:E(Sc),bulkParams:E(k),bulkData:E(si)}),wc=ks({id:Cs,title:Cs,imageSrc:Cs,nextScreenId:Rs(Cs)}),kc=ks({id:Cs,type:xs("single_choice_image"),title:Cs,subtitle:Rs(Cs),answers:Ts(wc),publication:Rs(bc),bulkParams:Cs,bulkData:Rs(si)}),Ac=I({id:k,title:k,nextScreenId:E(k)}),Tc=I({id:k,type:x("radio_choice_text"),title:k,subtitle:E(k),answers:B(Ac),publication:E(bc),bulkParams:k,bulkData:E(si)}),Cc=ks({id:Cs,title:Cs}),Ec=ks({text:Cs,nextScreenId:Rs(Cs)}),Pc=ks({id:Cs,type:xs("multi_choice_text"),title:Cs,answers:Ts(Cc),minAnswersError:Cs,minAnswersCount:Es,submitButton:Ec,publication:Rs(bc),bulkParams:Cs,bulkData:Rs(si)}),Rc=ks({placeholder:Cs,maxLength:Es}),xc=ks({id:Cs,type:xs("multi_choice_with_input"),title:Cs,answers:Ts(Cc),input:Rs(Rc),minAnswersError:Cs,minAnswersCount:Es,submitButton:Ec,bulkParams:Cs,bulkData:Rs(si)}),Dc=ks({id:Cs,type:xs("radio_buttons"),title:Cs,answers:Ts(Cc),input:Rs(Rc),minAnswersError:Cs,minAnswersCount:Es,submitButton:Ec,bulkParams:Cs,bulkData:Rs(si)}),Nc=ks({id:Cs,imageSrc:Rs(Cs),imageActiveSrc:Rs(Cs),nextScreenId:Rs(Cs),title:Cs}),jc=_("type",{message:hc,gradation_stars:yc,single_choice_image:kc,radio_choice_text:Tc,multi_choice_text:Pc,gradation_choice_image:ks({id:Cs,type:xs("gradation_choice_image"),title:Cs,subtitle:Rs(Cs),answers:Ts(Nc),bulkParams:Cs,minAnswerTitle:Cs,maxAnswerTitle:Cs,defaultAnswerId:Cs,bulkData:Rs(si)}),multi_choice_with_input:xc,gradation_rating:Ic,radio_buttons:Dc}),Lc=I({eventName:k,itemId:E(k),count:A}),Bc=I({itemId:k,offset:A}),Uc=I({showOnPosition:E(A),screenMap:U(jc),initialScreenId:k,eventConditionsShow:E(B(Lc)),itemBasedPosition:E(Bc),showTriggers:((e,t)=>(n,r)=>_c(e,t)(n,r))(B(No({feed_position:L({type:x("feed_position"),position:E(A)})})),[])}),Vc=I({screens:U(jc),initialScreenId:k,bulkParams:k,type:Ps(f.INTERVIEW),pos:A}),Mc=O(S(Vc,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{id:y("fake-interview-item-id"),currentScreenId:e.initialScreenId,type:f.INTERVIEW,receiveTime:Date.now(),pos:e.pos,feedItemUniqId:C()})));let Fc,zc;!function(e){e.LIST="list",e.CAROUSEL="carousel",e.ONBOARDING="onboarding",e.PROMO_PUBLISHERS="promo_publishers",e.PROMO_PUBLICATIONS="promo_publications"}(Fc||(Fc={})),function(e){e.BANNER="banner_list",e.PUBLICATIONS="publication_list",e.REPOST="showcase_repost",e.PUBLISHERS="publisher_list",e.PROMO_PUBLICATIONS_CAROUSEL="promo_publications_carousel",e.SHOWCASE_SEARCH_RECENTS_HEADER="showcase_search_recents_header",e.SHOWCASE_SEARCH_RECENT="showcase_search_recent"}(zc||(zc={}));const Hc=["items"];let Gc;!function(e){e.article="showcase_article",e.brief="showcase_brief",e.video="showcase_video"}(Gc||(Gc={}));const $c=I({itemType:x("gif")}),qc=I({id:k,itemType:k,title:k,link:k,source:bi,bulkParams:oi,bulkData:E(si),statEvents:ri,text:k,creationTime:k,layoutType:E(N(Fc)),image:k,video:R}),Wc=S(qc,$c),Kc=I({id:k,source:bi,statEvents:ri,bulkParams:oi,bulkData:E(si),itemType:x("native"),type:x("card"),image:k,title:k,text:k,creationTime:k,link:k}),Yc=I({id:k,source:bi,statEvents:ri,bulkParams:oi,bulkData:E(si),itemType:x("brief"),creationTime:k,richText:E(fo),items:B(Pa),type:x("brief"),link:k}),Zc=I({itemType:x(Gc.article),statEvents:ri,contentType:x("publication"),item:Kc}),Xc=I({itemType:x(Gc.video),statEvents:ri,contentType:x("publication"),viewsNumber:E(k),gif:k,item:Wc}),Jc=I({itemType:x(Gc.brief),statEvents:ri,contentType:x("publication"),gif:E(k),item:Yc}),Qc=_("item_type",{[Gc.article]:Zc,[Gc.brief]:Jc,[Gc.video]:Xc}),el=I({id:k,type:x("plain_card"),itemType:x("publication_list"),title:k,subtitle:k,description:k,isLastBlock:T,statEvents:ri,bulkParams:oi,bulkData:E(si),image:k,source:E(bi),layoutType:N(Fc),items:R}),tl=O(el,(e=>{let{items:t}=e,n=di(e,Hc);const r=n.title;if(!Array.isArray(t))return Object.assign({},n,{items:[]});const i=[];return t.forEach((e=>{var t;const n=(e=>{let{item:t,idx:n,blockName:r}=e;try{return s(Qc,t,`ÐÐ¸ÑÑÐ¸Ð½Ð° [ÐÐ¾Ð½ÑÐµÐ½Ñ] "${n}" Ð² Ð¿Ð¾Ð´Ð±Ð¾ÑÐºÐµ "${r}"`)}catch(e){return console.error(`ÐÐ¸ÑÑÐ¸Ð½Ð° [ÐÐ¾Ð½ÑÐµÐ½Ñ] "${n}" Ð² Ð¿Ð¾Ð´Ð±Ð¾ÑÐºÐµ "${r}": ${e}`),null}})({item:e,idx:null==e||null==(t=e.item)?void 0:t.id,blockName:r});n&&i.push(n)})),Object.assign({},n,{items:i})})),nl=I({id:k,itemType:x("showcase_banner"),aspectRatio:A,preview:E(k),image:k,url:k}),rl=I({type:x("plain_card"),itemType:x("banner_list"),id:k,bulkParams:oi,bulkData:E(si),statEvents:E(ri),cardType:E(k),items:B(nl)}),il=["items"],ol=x("plain_card"),al=I({redactorDescription:k,statEvents:ri,bulkParams:oi,bulkData:E(si),redactorLogos:B(k),source:bi,contentType:x("source")}),sl=O(I({id:k,type:ol,itemType:x("publisher_list"),title:k,subtitle:k,description:k,isLastBlock:T,statEvents:ri,bulkParams:oi,bulkData:E(si),image:k,layoutType:N(Fc),source:E(bi),items:R}),(e=>{let{items:t}=e,n=di(e,il);const r=n.title;if(!Array.isArray(t))return Object.assign({},n,{items:[]});const i=t.reduce(((e,t)=>{var n;const i=null==t||null==(n=t.source)?void 0:n.title;try{const n=a(al,t,`ÐÐ¸ÑÑÐ¸Ð½Ð° [ÐÐ»Ð¾Ð³ÐµÑ] "${i}" Ð² Ð¿Ð¾Ð´Ð±Ð¾ÑÐºÐµ "${r}"`);e.push(n)}catch(e){console.error(`ÐÐ¸ÑÑÐ¸Ð½Ð° [ÐÐ»Ð¾Ð³ÐµÑ] "${i}" Ð² Ð¿Ð¾Ð´Ð±Ð¾ÑÐºÐµ "${r}": ${e}`)}return e}),[]);return Object.assign({},n,{items:i})})),cl=I({id:k,type:x("plain_card"),itemType:x(zc.REPOST),title:k,description:k,statEvents:ri,bulkParams:oi,bulkData:E(si),source:E(bi),layoutType:N(Fc),repost:za}),ll=I({id:k,bulkParams:k,bulkData:E(si),statEvents:ri,type:x("plain_card"),itemType:j("showcase_search_recent","showcase_search_recents_header"),link:E(k),source:E(bi)}),ul=O(S(rl,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.SHOWCASE_CARD,id:e.id||y(f.SHOWCASE_CARD),receiveTime:Date.now(),pos:0}))),dl=O(S(sl,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.SHOWCASE_CARD,id:e.id||y(f.SHOWCASE_CARD),receiveTime:Date.now(),pos:0}))),pl=O(S(tl,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.SHOWCASE_CARD,id:e.id||y(f.SHOWCASE_CARD),receiveTime:Date.now(),pos:0}))),_l=O(S(cl,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.SHOWCASE_CARD,id:e.id||y(f.SHOWCASE_CARD),receiveTime:Date.now(),pos:0}))),ml=O(S(ll,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.SHOWCASE_CARD,id:e.id||y(f.SHOWCASE_CARD),receiveTime:Date.now(),pos:0,items:[]}))),hl=m("item_type",{[zc.BANNER]:ul,[zc.PUBLISHERS]:dl,[zc.REPOST]:_l,[zc.PUBLICATIONS]:pl,[zc.SHOWCASE_SEARCH_RECENTS_HEADER]:ml,[zc.SHOWCASE_SEARCH_RECENT]:ml}),fl=O(I({id:k,hiddenItems:B(R),linkMore:E(k),bulkParams:k,bulkData:E(si),statEvents:ri,creationTime:E(k),pos:A}),(e=>{var t;const n=null==(t=e.hiddenItems)?void 0:t.map((e=>s(bi,e.source,"Hidden items Ð² ÐºÐ°ÑÑÐ¾ÑÐºÐµ Â«ÐÑÑ Ð¸Ð· Ð¿Ð¾Ð´Ð¿Ð¸ÑÐ¾ÐºÂ»")));return Object.assign({},e,{sources:n})})),bl=O(S(fl,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.SUBSCRIPTIONS_MORE,receiveTime:Date.now()}))),vl=I({unreadPostsCount:E(A),hasInteraction:E(T),source:bi}),gl=I({bulkParams:k,statEvents:ri,bulkData:E(si),creationTime:E(k),items:B(vl),linkMore:E(k),isFreshFromSubscriptionsExists:E(T),type:k,title:E(k),pos:A}),yl=O(S(gl,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.SUBSCRIPTIONS_HEADS,id:y(f.SUBSCRIPTIONS_HEADS),receiveTime:Date.now(),pos:e.pos}))),Ol=I({source:bi,statEvents:E(ri),bulkParams:k,bulkData:E(si)});let Sl;!function(e){e.RECOMMENDATION="recommendation",e.SUBSCRIPTION="subscription",e.SOFT_FAVOURITE="soft_favourite",e.RTB_RECOMMENDATION="rtb_recommendation",e.DOC2DOC_RECOMMENDATION="doc2doc_recommendation"}(Sl||(Sl={}));const Il=I({itemType:k,id:k}),wl=I({type:k,items:B(Ol),title:k,subtitle:E(k),bulkParams:k,bulkData:E(si),statEvents:E(ri),blockType:E(N(Sl)),showcaseLink:E(k),isFromShowcase:E(T),shouldShowRefresh:E(T),isForChannelPage:E(T),moreLink:E(k),richRecommendLabel:E(Ki),statData:E(Il)}),kl=O(S(wl,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.RECOMMENDATIONS_CHANNELS,id:y(f.RECOMMENDATIONS_CHANNELS),receiveTime:Date.now(),pos:0}))),Al=O(S(wl,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.PROMO_PUBLISHERS_CAROUSEL,id:y(f.PROMO_PUBLISHERS_CAROUSEL),receiveTime:Date.now(),pos:0})));function Tl(e){return Object.assign({},e)}const Cl=Zr({title:qr(),alias:qr(),id:$r()}),El=Zr({rubrics:Qr(Cl)}),Pl=(Tl({name:"getRubricList",params:Zr({regionId:$r()}),req:async e=>{let{regionId:t}=e;return(await fetch(Ll(`/news/api/v2/rubric_list?user_region=${t}`))).json()},res:El}),Xr({url:qr(),title:qr(),log:Gr(),agency:Zr({name:qr(),logo:Yr(qr())}),isHot:Yr(Hr()),isFavorite:Yr(Hr()),titleDocPubDate:Yr($r())})),Rl=Jr(Pl,Xr({extraStories:Yr(Qr(Pl))})),xl=Xr({category:qr(),id:$r(),url:qr(),title:qr(),text:Yr(qr())}),Dl=Xr({name:qr(),url:qr(),stories:Qr(Rl),informer:Yr(Qr(xl)),alias:qr(),regionId:Yr($r())}),Nl=Xr({expanded:Hr(),data:Qr(Dl),favoriteRubric:Yr($r()),formKey:Yr(qr()),nextTop:Yr(qr()),reqid:qr()}),jl=Xr({payload:Nl,id:qr(),bulkParams:qr(),bulkData:Yr(ai),itemType:qr(),pos:$r()}),Ll=e=>e,Bl=(Tl({name:"getFreshNewsTop",params:qr(),req:async e=>(await fetch((e=>{let t=e.replace("api/v3/tops_export","api/v2/tops_export");return t.startsWith("/news")||(t=`/news${t}`),t=Ll(t),t})(e))).json(),res:Nl}),Tl({name:"saveFavouriteRubric",params:Zr({set_favorite_rubric:qr(),form_key:qr()}),req:async e=>{let{set_favorite_rubric:t,form_key:n}=e;return(await fetch(Ll("/news/api/v2/favorites"),{body:JSON.stringify({set_favorite_rubric:t,form_key:n}),method:"POST"})).status},res:$r()}),O(S(jl.parser,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.NEWS,id:y(f.NEWS),receiveTime:Date.now(),pos:e.pos})))),Ul=I({id:k,pos:E(A),type:x("search_publishers"),items:B(Ol),bulkParams:k,bulkData:E(si),statEvents:ri}),Vl=O(S(Ul,O(ci,(e=>({statData:e})))),(e=>{const t=y(f.SEARCH_PUBLISHERS);return Object.assign({},e,{feedItemUniqId:C(),id:t,packId:t,type:f.SEARCH_PUBLISHERS,receiveTime:Date.now(),pos:e.pos||0})})),Ml=I({pos:A,id:E(k),bidFloor:E(A)}),Fl=O(S(Ml,Oo,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.HIDDEN,id:e.id||y(f.HIDDEN),receiveTime:Date.now()})));let zl;!function(e){e.CAROUSEL="carousel",e.NATIVE_CAROUSEL="publisher_content_native_carousel",e.GIF_CAROUSEL="publisher_content_gif_carousel",e.SHORT_CAROUSEL="publisher_content_short_carousel"}(zl||(zl={}));const Hl=S(qc,I({video:Go})),Gl=S(Hl,$c),$l=S(Xc,I({item:Gl})),ql=S(Zc,I({viewsNumber:E(k)})),Wl=_("item_type",{[Gc.article]:ql,[Gc.video]:$l}),Kl=S(Ol,I({items:E(B(Wl))})),Yl=S(wl,I({layoutType:E(N(zl)),items:B(Kl)})),Zl=O(S(Yl,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.PROMO_PUBLICATIONS_CAROUSEL,id:y(f.PROMO_PUBLICATIONS_CAROUSEL),receiveTime:Date.now(),pos:0}))),Xl={title:k,buttonText:k,buttonLink:k,isContrast:T,bulkParams:k,bulkData:E(si),statEvents:E(ri),userIdentifier:E(k)},Jl=I(Xl),Ql=I(Object.assign({},Xl,{description:k,imageLink:k})),eu=I({bulkParams:k,bulkData:E(si),userIdentifier:E(k)}),tu=I({bulkParams:k,bulkData:E(si),userIdentifier:E(k)}),nu=O(S(Jl,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.AD_CAMPAIGN_CARD,id:y(f.AD_CAMPAIGN_CARD),receiveTime:Date.now(),pos:0}))),ru=O(S(Ql,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.AD_CAMPAIGN_BANNER,id:y(f.AD_CAMPAIGN_BANNER),receiveTime:Date.now(),pos:0}))),iu=O(S(eu,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.AD_CAMPAIGN_COMPACT_BANNER,id:y(f.AD_CAMPAIGN_COMPACT_BANNER),receiveTime:Date.now(),pos:0}))),ou=O(S(tu,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.AD_CAMPAIGN_QR_BANNER,id:y(f.AD_CAMPAIGN_QR_BANNER),receiveTime:Date.now(),pos:0}))),au=O(S(L({pos:E(A)}),O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.SUBSCRIPTIONS_NO_LOGIN,id:y(f.SUBSCRIPTIONS_NO_LOGIN),receiveTime:Date.now(),pos:0}))),su=I({type:x("subscriptions_empty_card"),itemType:x("subscriptions_empty_card"),pos:E(A)}),cu=O(S(su,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{id:y(f.SUBSCRIPTIONS_EMPTY_CARD),feedItemUniqId:C(),type:f.SUBSCRIPTIONS_EMPTY_CARD,pos:e.pos||0}))),lu=I({type:j("small_card"),title:E(k),source:bi,link:k,image:E(k),itemType:j("native","gif"),video:E(Go),mainColor:E(k),blurredPreview:E(k)}),uu=O(S(eo,lu,Oo,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.SMALL_CARD,id:e.id||y(f.SMALL_CARD),pos:e.pos||0}))),du=I({type:x("subscriptions_entry"),itemType:x("subscriptions_entry"),freshSubscriptionsCount:E(A),pos:E(A)}),pu=O(S(du,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),id:y(f.SUBSCRIPTIONS_ENTRY),type:f.SUBSCRIPTIONS_ENTRY,receiveTime:Date.now(),pos:e.pos||0}))),_u=O(S(L({pos:E(A)}),O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.SUBSCRIPTIONS_END,id:y(f.SUBSCRIPTIONS_END),receiveTime:Date.now(),pos:0}))),mu=I({itemType:k,id:k}),hu=I({type:x("subscriptions_recommendations"),itemType:x("publisher_list"),items:B(Ol),bulkParams:E(k),statData:E(mu)}),fu=O(S(hu,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.SUBSCRIPTIONS_RECOMMENDATIONS,id:y(f.SUBSCRIPTIONS_RECOMMENDATIONS),receiveTime:Date.now(),pos:0}))),bu=O(uc,(e=>Object.assign({},e,{type:f.GIF,isDeleted:!1}))),vu=O(uc,(e=>Object.assign({},e,{type:f.SHORT_VIDEO}))),gu=O(S(I({type:k,title:k}),O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{id:y(f.HISTORY_DATE_SEPARATOR),pos:0,feedItemUniqId:C(),type:f.HISTORY_DATE_SEPARATOR,isDeleted:!1}))),yu=I({card:k,text:k}),Ou=I({title:E(k),text:E(k),type:k,publisherId:k,publicationObjectId:E(k),actionTime:E(k),recommendReason:E(k)}),Su=I({urlHash:E(k),cardColors:E(yu),mainColor:E(k),read:T,reactions:E(L({click:E(L({title:k})),like:E(L({title:k})),dislike:E(L({title:k}))})),more:E(Yi)}),Iu=I({isPromoted:E(T),isPromoPublication:E(T),cardBackgroundImage:E(k),cardBackgroundWhiteImage:E(k),pixels:B(k),isSavedToBookmarks:E(T),itemType:E(k)}),wu=L({ratio_16x9_big:E(k),ratio_16x9:E(k),ratio_4x3:E(k),ratio_4x5:E(k),ratio_7x4:E(k)}),ku=S(Ou,Su,Iu,po,I({commentsDocumentId:E(k),allCommentsLink:E(k),image:E(k),bigCardImage:E(k),blurredPreview:E(k),redesignImages:E(wu),imageWidth:E(A),imageHeight:E(A)})),Au=S(ku,ro,so),Tu=(S(ku,io,I({imageDesignV3:E(jo),menu:E(B(Ji)),recDebugParams:E(k)}),L({socialInfo:E(ao)})),O(S(I({type:k,pos:A,ad:Ai,packId:E(k),bidFloor:E(A)}),O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.RTB,id:y(f.RTB),receiveTime:Date.now()})))),Cu=L({floorAd:E(Tu)}),Eu=["feedbackInfo","zenLogo","promoLabel","image","imageWidth","imageHeight","bigCardImage","blurredPreview","text","title","badges","pos","redesignImages","source","id"],Pu=O(S(Au,Cu,Oo,O(ci,(e=>({statData:e})))),(e=>{const{feedbackInfo:t,zenLogo:n,promoLabel:r,image:i,imageWidth:o,imageHeight:a,bigCardImage:s,blurredPreview:c,text:l,title:u,badges:d,pos:p,redesignImages:_,source:m,id:h}=e,b=di(e,Eu),v=i?{hasImage:!0,image:i,bigImage:s||i,blurredPreview:c||"",redesignImages:_,imageWidth:o,imageHeight:a}:{hasImage:!1},g=Boolean(n)&&!(null!=n&&n.type&&"turbo"!==n.type);n&&g&&(n.type="turbo");const O=Ni(t);return Object.assign({},b,{feedItemUniqId:C(),type:f.CARD,id:h||y(f.CARD),receiveTime:Date.now(),labelIcon:n,labelText:r,feedback:O,text:l||"",title:u||"",badges:d||[],source:Object.assign({},m,{bulkParams:b.bulkParams})},v,{pos:p||0})})),Ru=I({id:k,itemType:j("gif","native"),title:k,source:bi,link:k,bulkParams:k}),xu=I({id:k,type:x("top_content_set"),items:B(Ru),itemType:j("top_content_set","top_sub_content_set"),headerText:k,pos:A}),Du=O(S(xu,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.TOP_CONTENT_SET,receiveTime:Date.now()}))),Nu=I({itemType:k,type:x("dzen_first_place")}),ju=O(S(Nu,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.DZEN_FIRST_PLACE,id:y(f.DZEN_FIRST_PLACE),receiveTime:Date.now(),pos:0}))),Lu=O(S(eo,O(eo,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.PUBLISHERS_CHANNEL_SUBSCRIBE_CARD,id:y(f.PUBLISHERS_CHANNEL_SUBSCRIBE_CARD),receiveTime:Date.now(),pos:e.pos||0}))),Bu=O(uc,(e=>Object.assign({},e,{type:f.LONG_VIDEO_COMPACT}))),Uu=O(uc,(e=>Object.assign({},e,{type:f.SHORT_VIDEO_COMPACT}))),Vu=I({itemId:k,itemType:k,title:k,url:k,isHighlighted:T,bulkParams:k,statEvents:E(ri)}),Mu=I({id:k,itemType:x("showcase_tabs"),type:x("showcase_tabs"),tabs:B(Vu),bulkParams:k,statEvents:E(ri)}),Fu=O(S(Mu,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.SHOWCASE_TABS,id:y(f.SHOWCASE_TABS),receiveTime:Date.now(),pos:0}))),zu=S(bu,Cu),Hu=O(S(I({type:k,items:vi(zu),pos:A,href:k}),Oo,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.LONG_VIDEO_FLOOR,id:y(f.LONG_VIDEO_FLOOR),receiveTime:Date.now()}))),Gu=O(S(I({type:k,items:vi(Pu),pos:A}),Oo,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.NATIVE_FLOOR,id:y(f.NATIVE_FLOOR),receiveTime:Date.now()}))),$u=I({id:k,image:E(Eo),text:k}),qu=S(I({id:k,type:x(f.SUBSCRIPTION_ALL),pos:A,publicationPreview:E($u),unreadPostsCount:E(A),feedApiLink:k}),O(ci,(e=>({statData:e,feedItemUniqId:C()})))),Wu=S(I({id:k,type:x(f.SUBSCRIPTION_HEAD),pos:A,channelId:k,source:bi,publicationPreview:E($u),unreadPostsCount:E(A)}),O(ci,(e=>({statData:e,feedItemUniqId:C()}))),O(R,(e=>({raw:e}))),O(I({unreadPostCount:E(A),unreadPostsCount:E(A)}),(e=>{let{unreadPostCount:t,unreadPostsCount:n}=e;return{unreadPostsCount:null!=t?t:n}})),O(I({muted:E(T),pinned:E(T)}),(e=>{let{muted:t,pinned:n}=e;return{muted:null!=t&&t,pinned:null!=n&&n}}))),Ku=new WeakMap;function Yu(e){if(!Tn(e))return e;let t=Ku.get(e);return t||(t=ut((()=>{let t;return t=Qn(e)?function(e){return br(e)?Cn(e).map((function(t){return e[t]})):ar(e)?Cn(e).map((function(t){return e.get(t)})):lr(e)?Array.from(e.values()):Qn(e)?e.slice():void V(6)}(e).map((e=>Tn(e)?Yu(e):e)):ar(e)?new Map(En(e).map((e=>{let[t,n]=e;return[t,Tn(n)?Yu(n):n]}))):Fr(En(e).map((e=>{let[t,n]=e;return[t,Tn(n)?Yu(n):n]}))),Zu.set(t,e),t})),Ku.set(e,t)),t.get()}const Zu=new WeakMap;const Xu=e=>Object.assign({},e,{modelKeyProp:!0}),Ju=e=>Object.assign({},e,{modelKeyProp:!0,modelIdentifier:!0});const Qu=(e,t)=>{const{props:n}=e,r=Fr(Object.entries(n).filter((e=>{let[t,n]=e;return n.modelKeyProp})));return Object.assign((function(e){const t=Fr(Object.entries(e).filter((e=>{let[t]=e;return t in r}))),n=at(e);return Object.defineProperty(n,"$key",{value:t,enumerable:!1,writable:!1}),Yu(n)}),{objectType:e,props:n,modelKeyType:Zr(r),modelName:t})},ed=Kr(0,qr());class td extends(Qu(Zr({id:Ju(ed),urlTemplate:qr(),namespace:qr(),size:Zr({width:$r(),height:$r()}),meta:Yr(Zr({mainColor:qr(),origFormat:qr()}))}))){}const nd=Zr({width:$r(),height:$r()}),rd=Zr({mainColor:qr(),origFormat:Yr(qr()),blurredPreview:Yr(qr())}),id=(Zr({id:qr()}),Zr({id:qr(),groupId:$r(),imageName:qr(),namespace:qr(),meta:Yr(rd),urlTemplate:Yr(qr()),sizes:(od=nd,{name:"map",parser:(e,t)=>{const n=U(od.parser)(e,t);return new Map(Object.entries(n))},serialize:e=>Fr(Array.from(e).map((e=>{let[t,n]=e;return[t,od.serialize(n)]})))}),base64:Yr(qr())}));var od;const ad=Zr({urlTemplate:qr(),id:qr(),namespace:qr(),size:nd,meta:Yr(rd)}),sd=(Zr({logo:id,originalLogo:Yr(id)}),Zr({id:qr(),namespace:qr(),urlTemplate:qr(),sizes:ei(nd),meta:Yr(rd),imageName:Yr(qr()),groupId:Yr($r()),size:Yr(nd)})),cd=(Zr({cover:sd}),Kr(0,qr())),ld=Zr({raw:qr(),normalized:Yr(qr())}),ud=Zr({link:qr(),socialNetwork:Yr(qr()),network:Yr(qr()),name:Yr(qr())});Qu(Zr({id:Ju(cd),itemId:qr(),domain:Yr(qr()),nickname:Yr(ld),phone:Yr(qr()),metrikaCounterId:Yr($r()),email:Yr(qr()),editorAccessMode:Yr(qr()),subscribedToEmails:Yr(Hr()),canPublisherChangeNickname:Yr(Hr()),secondsToNextNicknameChanging:Yr($r()),hasEmail:Hr(),hasPhone:Hr(),name:Yr(qr()),description:Yr(qr()),ownerUid:$r(),socialLinks:Qr(ud),mainExternalLink:Yr(qr()),publicPhones:Yr(Qr(qr())),publicEmails:Yr(Qr(qr())),themes:Qr(qr()),logo:Yr(Zr({id:qr()})),logos:Yr(ei(ad)),cover:Yr(sd),canUploadCover:Yr(Hr()),originalLogo:Yr(Zr({id:qr()})),hasLogo:Yr(Hr()),headerBackgroundImage:Yr(Zr({id:qr()})),agreement:Hr(),isBanned:Yr(Hr()),isDeleted:Yr(Hr()),isNirvana:Yr(Hr()),isVerified:Yr(Hr()),isAgreeToShareData:Yr(Hr()),isAgreeToShowData:Yr(Hr()),isBusinessChannel:Yr(Hr()),favouritesCount:$r(),shouldSendReport:Yr(Hr()),audience:$r(),efirMigration:Yr(Zr({date:Yr($r())})),regTime:Yr($r()),termsOfUse:Yr(qr()),stubLogoUrl:Yr(qr())}));function dd(e,t,n){const r=[],i=e.replace(/:(\w+)/g,((e,n)=>{const i=t[n];if(!i)throw new TypeError(`No param for path match "${e}".`);return r.push(n),String(i)}));if(Object.keys(t).filter((e=>!r.includes(e))).forEach((e=>{throw new Error(`No pattern for param "${e}" in path.`)})),n){const e=i.includes("?")?"&":"?";return i+e+function(e){const t=[];return Object.keys(e).forEach((n=>{const r=e[n];Array.isArray(r)?t.push(r.map((e=>`${encodeURIComponent(n)}=${encodeURIComponent(String(e))}`)).join("&")):void 0!==r&&t.push(`${encodeURIComponent(n)}=${encodeURIComponent(String(e[n]))}`)})),t.join("&")}(n)}return i}const pd=()=>"undefined"!=typeof window?window:void 0,_d=async()=>{const e=pd();if(e&&"undefined"!=typeof navigator&&navigator.userAgent.includes("ZenKit/")){if(!e.ZENKIT_LAUNCH_OPTIONS){let t;e.ZENKIT_LAUNCH_OPTIONS=new Promise((e=>{t=e})),e.ZENKIT_LAUNCH_OPTIONS.resolve=t}return e.ZENKIT_LAUNCH_OPTIONS}};var md;Zr({type:qr(),message:qr(),stackTrace:Yr(qr())});let hd;!function(e){e.server="server",e.offline="offline",e.timeout="timeout",e.other="other"}(hd||(hd={}));class fd extends Error{constructor(e,t,n){var r;const{host:i,pathname:o,search:a,hash:s,searchParams:c}=new URL(t,document.location.origin),l=`${e.toUpperCase()} ${fd.replaceId(o)}`;super(`Error from API: ${l}`),this.handleId=l,this.method=e,this.host=i;const u=`${o}${a&&`?${a}`}${s&&`#${s}`}`;this.fullPath=u.length>200?`${u.slice(0,197)}...`:u,this.path=o,this.nativeError=n,this.clientRid=null!=(r=c.get("clientRid"))?r:void 0,this.errorType=hd.other}}fd.replaceId=e=>e.replace(/comments\/\d{4,}/,"comments/{commentId}").replace(/([/\-_]|^)[0-9a-f]{24}([/\-_]|$)/g,"$1{ObjectId}$2"),fd.Unexpected=class extends fd{constructor(e,t,n){super(e,t,n),this.message="Unexpected from API"}},fd.NetworkBase=class extends fd{constructor(e,t,n){super(e,t,n),this.fromTransport=!0}},fd.Network=class extends fd.NetworkBase{constructor(e,t,n){super(e,t,n)}},fd.Offline=class extends fd.NetworkBase{constructor(e,t,n){super(e,t,n),this.message="Navigator Offline",this.errorType=hd.offline}},fd.Timeout=class extends fd.NetworkBase{constructor(e,t,n){super(e,t),this.timeout=n,this.errorType=hd.timeout}},fd.Abort=class extends fd.NetworkBase{constructor(e,t,n){super(e,t),this.reason=n}},fd.ResponseBase=class extends fd{constructor(e,t,n,r){super(e,t,r),this.fromResponse=!0,this.getResponse=()=>this.response.clone(),this.status=n.status,this.statusText=n.statusText,this.responseType=n.type,this.response=n,this.message=`Error from API: ${this.handleId} ${this.status} (${this.statusText})`}},fd.Not2xx=class extends fd.ResponseBase{constructor(e,t,n){super(e,t,n),this.errorType=hd.server}},fd.JavaException=((md=class extends fd.ResponseBase{constructor(e,t,n,r){var i;super(e,t,n),this.errors=r,this.type=null==(i=r[0])?void 0:i.type,this.errorType=hd.server}}).getIfPresent=(e,t,n,r)=>{if(!Array.isArray(null==r?void 0:r.errors)||!r.errors.length)return;const i=r.errors.map((e=>{if(null===e||"object"!=typeof e)return{type:"broken-error",message:"Broken error"};const{message:t="",type:n="Unknown"}=e;return{message:t,type:n}}));return new fd.JavaException(e,t,n,i)},md),fd.Parsing=class extends fd.ResponseBase{constructor(e,t,n,r){super(e,t,n,r),this.message=`Parsing API response: ${this.handleId} ${this.status} (${this.statusText})`}};const bd=["timeout","retry","retryDelay","checkRetryNeeded","modArgs","checkResponse"],vd=2e4,gd=async function(e,t){let n=void 0===t?{method:"GET"}:t,{timeout:r=vd,retry:i=0,retryDelay:o=0,checkRetryNeeded:a=(e=>e instanceof fd.Network||e instanceof fd.Offline),modArgs:s=(e=>e),checkResponse:c=(()=>{})}=n,l=di(n,bd);const u=t=>{const[n,i]=s([e,l],t);return new Promise(((e,o)=>{let a=()=>{};if(r>0){const e=setTimeout((()=>{o(new fd.Timeout(i.method,n,r))}),r);a=()=>clearTimeout(e)}fetch(n,i).catch((e=>window.navigator&&!window.navigator.onLine?Promise.reject(new fd.Offline(i.method,n,e)):Promise.reject(new fd.Network(i.method,n,e)))).then((async e=>{const r=await c([n,i],e.clone(),t);if(r instanceof fd.ResponseBase)throw r;return e})).then(e,o).then(a,a)}))};let d=i,p=null;do{try{return await u(d-i)}catch(e){if(!(e instanceof fd&&await a(e,d-i)))throw e;p=e,o>0&&await new Promise((e=>{setTimeout(e,o)}))}}while(--d>0);throw p};class yd extends Error{constructor(e){super("FiledGetCsrf"),this.boundError=e}}let Od=null,Sd=null,Id=!0;var wd=n(481),kd=n.n(wd);const Ad=["responseType","withCsrf","credentials"],Td=async()=>{var e;const{token:t,vkToken:n,zenToken:r}=null!=(e=await _d())?e:{};return(e=>{const{yaToken:t,zenToken:n,vkToken:r}=e,i={path:"/",domain:".dzen.ru"};t&&(!!kd().get("Zen-Authorization")&&kd().remove("Zen-Authorization"),kd().set("Zen-Authorization",t,i)),n&&(!!kd().get("X-Zen-Authorization")&&kd().remove("X-Zen-Authorization"),kd().set("X-Zen-Authorization",n,i)),r&&(!!kd().get("X-Vk-Authorization")&&kd().remove("X-Vk-Authorization"),kd().set("X-Vk-Authorization",r,i))})({yaToken:t,zenToken:r,vkToken:n}),Object.assign({},t&&{Authorization:`Bearer ${t}`},r&&{"X-Zen-Authorization":r},n&&{"X-Vk-Authorization":n})};let Cd=null;const Ed=async(e,t)=>{let{responseType:n="json",withCsrf:r=!0,credentials:i="same-origin"}=t,o=di(t,Ad);const a=await Td(),s=Object.assign({Accept:"application/json"},a);return r&&(s["X-Csrf-Token"]=await async function(e){let{initialToken:t,headers:n}=void 0===e?{}:e;if(Id&&(Id=!1,Sd=null!=t?t:null),"string"==typeof Sd)return Sd;if(Od)return Od;Od=gd("/media-api/csrf-token",{method:"GET",timeout:3e3,headers:n,credentials:"same-origin"}).then((e=>e.json())).then((e=>{const t=null==e?void 0:e.result;return"string"==typeof t?t:Promise.reject(new Error("Failed get csrf token from response"))})).then((e=>(Sd=e,e)),(e=>Promise.reject(new yd(e))));const r=()=>{Od=null};return Od.then(r,r),Od}({headers:a})),o.body instanceof FormData||(s["Content-Type"]="application/json"),null!==Cd&&(s["X-FP-Token"]=Cd),o.headers&&Object.assign(s,o.headers),gd(e,Object.assign({},o,{credentials:i,headers:s,checkResponse:async(e,t)=>{let[n,{method:r}]=e;const i=t.headers.get("Content-Type");if(null!=i&&i.includes("application/json")){const e=await t.clone().json().catch((()=>{})),i=fd.JavaException.getIfPresent(r,n,t,e);if(i)return i}if(!t.ok)return new fd.Not2xx(r,n,t)}})).then((t=>{switch(n){case"text":return t.text();case"blob":return t.blob();case"json":{const n=t.headers.get("Content-Type");return null!=n&&n.includes("application/json")?t.json().catch((n=>{var r;return Promise.reject(new fd.Parsing(null!=(r=o.method)?r:"GET",e,t,n))})):Promise.resolve()}default:return Promise.resolve()}}))};const Pd=Kr(0,qr());class Rd extends(Qu(Zr({suiteId:Ju(Pd),suiteItemId:$r(),publisherId:cd,imageDto:Yr(ti(td)),name:qr(),description:qr(),createdDate:$r(),updatedDate:$r(),publicationCount:Yr($r())}),"Suite")){}const xd=Zr(Object.assign({},Rd.props,{imageDto:Yr(td.objectType)})).parser;class Dd extends(Qu(Zr({suiteId:Xu(Pd),count:$r()}),"SuitePublicationCount")){}Qu(Zr({publisherId:Xu(cd),suiteIds:Qr(Pd)}),"SuitePreviewList");const Nd=Zr({suitePublicationCounts:Qr(ti(Dd)),suites:Qr(ti(Rd)),take:$r(),skip:$r(),suitesCount:$r()}),jd=((e=>{let{path:t,method:n="GET",pathParams:r=Zr({}),query:i=Zr({}),body:o=Zr({}),timeout:a,res:s}=e;Tl({res:s,params:Jr(r,Jr(i,o)),name:`${n} ${t}`,req:e=>Ed(dd(t,Fr(Object.entries(e).filter((e=>{let[t]=e;return t in r.props}))),Fr(Object.entries(e).filter((e=>{let[t]=e;return t in i.props})))),{responseType:"json",method:n,body:Object.keys(o.props).length?JSON.stringify(Fr(Object.entries(e).filter((e=>{let[t]=e;return t in o.props})))):void 0,timeout:a})})})({pathParams:Zr({publisherId:cd}),query:Zr({take:$r(),skip:$r()}),res:Nd,path:"/api/publishers/:publisherId/suites/"}),Zr({skip:$r(),take:$r(),suitesCount:$r(),suites:Qr(Zr({suites:ti(Rd)})),suitePublicationCounts:Qr(ti(Dd))}),O(S(I({id:k,hasMore:T,title:k,tab:k,sortType:k,suites:B(xd),itemType:k,pos:E(A)}),O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.SUITES_CAROUSEL,receiveTime:Date.now(),pos:e.pos||0})))),Ld=I({id:k,formattedSubscribers:E(k),feedLink:k,feedApiLink:k,isVerified:T,logo:k,status:hi,subtitle:k,title:k,strongestId:k,isMyChannel:T}),Bd=I({title:k,creationTime:k,image:E(k),link:k,video:E(I({duration:A,viewsFormatted:k,previews:E(L({200:k}))})),id:k,item_type:j("card","native","gif"),type:j("card","native","gif"),pos:A}),Ud=I({id:k,type:x("search_publisher_card"),itemType:x("search_publisher_card"),pos:E(A),publisherInfo:Ld,statParams:I({bulkParams:k,statEvents:ri}),items:E(B(Bd))}),Vd=O(S(Ud,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.SEARCH_PUBLISHER_CARD,id:y(f.SEARCH_PUBLISHER_CARD),receiveTime:Date.now(),pos:e.pos||0,items:e.items||[],statData:{source:{id:e.publisherInfo.id,isVerified:e.publisherInfo.isVerified,status:e.publisherInfo.status,type:"publisher"}}}))),Md=O(S(I({id:k,type:k,items:vi(_("type",{[f.CARD]:Pu,[f.BRIEF]:ss})),title:k,tab:k,sortType:k,pos:E(A)}),O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.CHANNEL_ARTICLE_FLOOR,receiveTime:Date.now(),pos:e.pos||0}))),Fd=O(S(I({id:k,hasMore:T,title:k,tab:k,sortType:k,type:k,items:vi(bu),pos:E(A),itemType:E(k)}),O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.CHANNEL_LONG_VIDEO_FLOOR,receiveTime:Date.now(),pos:e.pos||0}))),zd=I({id:k,type:x("search_wizard"),itemType:x("search_wizard"),title:k,description:k,imageUrl:E(k),pos:E(A)}),Hd=O(S(zd,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.SEARCH_WIZARD,id:y(f.SEARCH_WIZARD),receiveTime:Date.now(),pos:e.pos||0}))),Gd=I({text:k,url:E(k)}),$d=I({id:k,type:x("search_queries_cloud"),itemType:x("search_queries_cloud"),title:k,items:B(Gd),pos:E(A)}),qd=O(S($d,O(ci,(e=>({statData:e})))),(e=>Object.assign({},e,{feedItemUniqId:C(),type:f.SEARCH_QUERIES_CLOUD,id:y(f.SEARCH_QUERIES_CLOUD),receiveTime:Date.now(),pos:e.pos||0}))),Wd=_("type",{[f.HIDDEN]:Fl,[f.CARD]:Pu,[f.GIF]:bu,[f.LONG_VIDEO_COMPACT]:Bu,[f.SHORT_VIDEO_COMPACT]:Uu,[f.SHORT_VIDEO]:vu,[f.GALLERY]:wo,[f.BRIEF]:ss,[f.NEWS]:Bl,[f.SHOWCASE_TABS]:Fu,[f.SHORT_VIDEO_CAROUSEL]:pc,[f.HISTORY_DATE_SEPARATOR]:gu,[f.ONBOARDING_INTEREST_LIST]:us,[f.INTERVIEW]:Mc,[f.SHOWCASE_CARD]:hl,[f.SUBSCRIPTIONS_MORE]:bl,[f.SUBSCRIPTIONS_HEADS]:yl,[f.RECOMMENDATIONS_CHANNELS]:kl,[f.PROMO_PUBLISHERS_CAROUSEL]:Al,[f.PROMO_PUBLICATIONS_CAROUSEL]:Zl,[f.SEARCH_PUBLISHERS]:Vl,[f.AD_CAMPAIGN_CARD]:nu,[f.AD_CAMPAIGN_BANNER]:ru,[f.AD_CAMPAIGN_COMPACT_BANNER]:iu,[f.AD_CAMPAIGN_QR_BANNER]:ou,[f.SMALL_CARD]:uu,[f.SUBSCRIPTIONS_NO_LOGIN]:au,[f.SUBSCRIPTIONS_EMPTY_CARD]:cu,[f.SUBSCRIPTIONS_ENTRY]:pu,[f.SUBSCRIPTIONS_END]:_u,[f.SUBSCRIPTIONS_RECOMMENDATIONS]:fu,[f.TOP_CONTENT_SET]:Du,[f.DZEN_FIRST_PLACE]:ju,[f.PUBLISHERS_CHANNEL_SUBSCRIBE_CARD]:Lu,[f.AUTHOR_POPULAR_END]:ui,[f.LONG_VIDEO_FLOOR]:Hu,[f.NATIVE_FLOOR]:Gu,[f.SUBSCRIPTION_ALL]:qu,[f.SUBSCRIPTION_HEAD]:Wu,[f.SUITES_CAROUSEL]:jd,[f.CHANNEL_ARTICLE_FLOOR]:Md,[f.CHANNEL_LONG_VIDEO_FLOOR]:Fd,[f.SEARCH_PUBLISHER_CARD]:Vd,[f.SEARCH_WIZARD]:Hd,[f.SEARCH_QUERIES_CLOUD]:qd});function Kd(e){const t={serverTime:null};return e&&(t.serverTime=e.server_time||null),t}let Yd;!function(e){e.SUBSCRIBED="subscribed",e.BLOCKED="blocked",e.NOT_SUBSCRIBED="not_subscribed"}(Yd||(Yd={}));Yd.BLOCKED,Yd.SUBSCRIBED,Yd.NOT_SUBSCRIBED;let Zd;!function(e){e.playerBottom="BOTTOM_PLAYER",e.sidebarTop="TOP_SIDEBAR",e.sidebarMultiple="DOC2DOC"}(Zd||(Zd={}));let Xd,Jd,Qd,ep,tp,np,rp,ip;!function(e){e.Blur="blur",e.Fade="fade"}(Xd||(Xd={})),function(e){e.Suggest="catalog_suggest",e.Subscriptions="subscriptions",e.ArticleFeed="article_feed",e.ProfileBlocked="profile_blocked",e.Feed="feed",e.Punch="punch",e.VideoFeed="video_feed",e.VideoViewsHistory="video_views_history",e.Interest="interest",e.Channel="channel",e.Activity="activity_feed",e.VideoRelated="video_related",e.Showcase="showcase",e.Bookmarks="bookmarks",e.PublisherPlatfromFooter="publisher_platform_footer",e.PublisherPlatfromFooterMobile="publisher_platform_mobile_footer",e.Suite="suite",e.Search="search"}(Jd||(Jd={})),function(e){e.Main="main",e.Channel="channel",e.Video="video",e.Interest="interest",e.Showcase="showcase",e.Serp="serp",e.Suite="suite",e.Saved="bookmarks",e.Subscriptions="subscriptions",e.SubscriptionsManager="subscription_manager",e.Floors="floors",e.Articles="articles"}(Qd||(Qd={})),function(e){e.Feed="feed",e.Ok="ok",e.Banned="banned",e.NotFound="not_found"}(ep||(ep={})),function(e){e.top="top",e.bottom="bottom"}(tp||(tp={})),function(e){e.short_video="short_video",e.long_video="long_video",e.article="article"}(np||(np={})),function(e){e.Top="top",e.Regular="regular",e.Reversed="reversed"}(rp||(rp={})),function(e){e.id="id",e.name="name",e.socialProfileId="socialProfileId"}(ip||(ip={}));const op=e=>e.map((e=>Object.assign({},Ss({source:e}),{isFromServer:!0}))),ap=e=>{if(!e)return{status:"complete",result:[]};switch(e.status){case"complete":{const t=e.result&&e.result.items||[];return{status:"complete",result:op(t)}}case"error":return e;default:return{status:"error"}}},sp=e=>{if(!e)return{status:"complete",result:[]};switch(e.status){case"complete":{const t=e.result&&e.result.items||[];return{status:"complete",result:op(t).filter((e=>"domain"===e.type||"publisher"===e.type))}}case"error":return e;default:return{status:"error"}}},cp=e=>e?Os(Object.assign({subtitle:""},e)):null,lp=ks({reasons:Ts(ks({id:Cs,text:Cs})),link:Rs(Cs)}),up=e=>{if(e)return((e,t)=>{a(e,t,"")})(lp,e),Object.assign({},e,{link:e.link||"https://dzen.ru/help/abuse/list.html"})},dp=I({iconCode:k,iconalt:E(k),t1:A,t2:A,t2name:k,t3:A,t3name:k,url:k,bulkParams:k}),pp=I({regionTitle:E(k),geoid:E(A),isGeoSetByUser:E(T)}),_p=B(L({common:L({ssr:L({html:E(k)})})})),mp=L({teaser:E(_p),fullscreen:E(_p),systembanner:E(_p),stripe:E(_p),splashscreen:E(_p),popup:E(_p),link_bro:E(_p)}),hp=I({data:L({banners:mp,context_script:E(k)})}),fp=e=>{if(e)return a(bp,e,"ÐÐ°Ð½Ð½ÑÐµ Ð¸Ð· ssr_banner")},bp=O(hp,(e=>{var t,n;const r=null==e||null==(t=e.data)?void 0:t.banners,i=null==e||null==(n=e.data)?void 0:n.context_script;if(!r)return;const o=Object.keys(r).filter((e=>"main"!==e&&"linkhead"!==e));if(!o.length)return;const a={};return o.forEach((e=>{var t,n,i;const o=r[e],s=null==o||null==(t=o[0])||null==(n=t.common)||null==(i=n.ssr)?void 0:i.html;s&&(a[e]=s)})),Object.keys(a).length?Object.assign({},a,i?{contextScript:i}:{}):void 0})),vp=I({data:L({banners:L({main:E(L({common:E(L({ssr:E(L({html:k}))})),settings:E(L({1:E(L({ssr:E(L({html:k}))}))})),rtb:E(L({ssr:E(L({html:k}))}))}))})})}),gp=e=>{if(e)return a(yp,e,"ÐÐ°Ð½Ð½ÑÐµ Ð¸Ð· ssr_banner")},yp=O(vp,(e=>{var t,n,r,i,o,a,s,c,l;const u=null==e||null==(t=e.data)||null==(n=t.banners)?void 0:n.main,d=null==u||null==(r=u.common)||null==(i=r.ssr)?void 0:i.html,p=null==u||null==(o=u.settings)||null==(a=o[1])||null==(s=a.ssr)?void 0:s.html,_=null==u||null==(c=u.rtb)||null==(l=c.ssr)?void 0:l.html;if(u)return p||_||d})),Op=e=>{let{items:t=[]}=e;return t.reduce(((e,t)=>{if("recommendations_channels"===t.type){const n=s(wl,t,"ÐÐ°ÑÑÑÐµÐ»Ñ Ð³Ð¾Ð»Ð¾Ð² Ð² Ð²Ð¸Ð´ÐµÐ¾ ÑÐ°ÑÑÐ¾Ð¿Ðµ");e.push(n)}if(t.type===f.GIF||t.type===f.SHORT_VIDEO){const r=(n=t,Object.assign({type:f.GIF},Zs(n),{statData:li(n)}));r&&e.push(r)}var n;return e}),[])};let Sp,Ip,wp;!function(e){e.USD="USD/RUB",e.EUR="EUR/RUB",e.OIL="OIL"}(Sp||(Sp={})),function(e){e[e.USD=0]="USD",e[e.EUR=1]="EUR",e[e.OIL=2]="OIL"}(Ip||(Ip={})),function(e){e.MMVB="MMVB",e.CB="CB"}(wp||(wp={}));const kp=I({value:A,changeabs:A,code:N(Sp),exchange:E(N(wp)),url:E(k)}),Ap=I({rates:B(kp),bulkParams:k}),Tp=I({viewedTime:E(A),viewedTimeView:E(A),duration:A,id:k,previews:E(U(k))}),Cp=I({logo:k,feedLink:k,title:k,isVerified:T}),Ep=I({image:k,title:k,id:k,domainTitle:k,bulkParams:k,shareLink:k,mainColor:k,blurredPreview:k,video:Tp,source:Cp}),Pp=_("type",{[f.GIF]:bu,[f.SHORT_VIDEO_CAROUSEL]:pc,[f.CARD]:Pu}),Rp=I({items:vi(Pp)}),xp=j("punch","recommend","floors"),Dp=I({id:k,itemType:k,link:k,title:k,bulkParams:k,source:bi}),Np=I({id:k,itemType:k,type:x("top_content_set"),items:B(Dp),pos:A}),jp=I({image:k,link:k,bulkParams:k,itemType:k,type:k}),Lp=I({id:k,itemType:x("publisher"),source:bi,statEvents:E(ri),bulkParams:k}),Bp=I({id:k,bulkParams:k,bulkData:E(si),statEvents:E(ri),itemType:k,type:x("punch_channels_recommended"),items:B(Lp),pos:A});let Up;!function(e){e.GRID="grid",e.COLUMN="column",e.THEMATIC_GRID="thematic-grid",e.THEMATIC_COLUMN="thematic-column",e.GAMES_GRID="games-grid",e.GAMES_COLUMN="games-column",e.HISTORY_GRID="history-grid",e.HISTORY_COLUMN="history-column"}(Up||(Up={}));const Vp=I({title:k,seoTitle:k,url:k,link:k,feedType:N(Up),id:k}),Mp=I({tabs:B(Vp),activeTabId:k}),Fp=I({catalog:k,name:k}),zp=I({catalog:k,name:k}),Hp=I({catalog:k,name:k}),Gp=I({description:E(k),platforms:B(Fp),tags:B(zp),systemRequirements:E(k),minSystemRequirements:E(k),genres:B(Hp),releaseAt:A,metacritic:A,hru:k,imageUrl:k,name:k,nextPageLink:E(k),isHidden:E(T)}),$p=I({title:k,description:k}),qp=I({hru:E(k),name:E(k),releaseAt:E(A),slug:E(k)}),Wp=I({name:E(k),catalog:E(k)}),Kp=I({name:k,slug:k}),Yp=I({options:B(Kp),selectedIndex:A,paramName:k}),Zp=I({platformFilter:Yp,genreFilter:Yp,yearFilter:Yp,urlTemplate:k,filterFetchLink:k}),Xp=I({year:k,topIndex:A,link:k}),Jp=I({name:k,hru:k,imageUrl:k,description:E(k),releaseAt:A,metacritic:E(A),yearTop:E(Xp),platforms:B(qp),tags:B(Wp),genres:B(Wp),slug:k}),Qp=I({games:B(Jp),nextPageLink:k,moreLink:k}),e_=I({gameCatalog:Qp,tagsForTitle:B(k),filters:Zp}),t_=L({type_filter:k,limit:E(k)}),n_=I({title:k,isSelected:E(T),params:t_}),r_=B(n_),i_=I({image:k,expandImage:k,url:k,buttonCaption:k,title:k,subtitle:E(k)}),o_=I({id:k,sourceId:k,itemType:k,sourceType:k,bannerInfo:i_}),a_=I({items:vi(_("type",{[f.CARD]:Pu,[f.BRIEF]:ss,[f.GIF]:bu})),title:k}),s_=I({itemId:k,itemType:k,publisherId:k,title:k,videoId:k,publicationUrl:k,avatarSrc:k,isVerified:T,channelName:k,previewImageSrc:k,previewImageMainColor:k}),c_=I({banners:B(s_)}),l_=e=>{let{suggest_url:t,screens:n}=e;return n||(t?{items:[{query_params:{page_type:"catalog_suggest"},page_type:"catalog_suggest",source:t,type:"suggest",_id:"suggest"}]}:void 0)},u_=(e,t)=>{if(!e)return null;const n=e.reduce(((e,n)=>{if(n)try{const i=s(Wd,r=n,`data Ð² ÐºÐ°ÑÑÐ¾ÑÐºÐµ ${r.type} ${r.item_type?r.item_type:""}`);i&&e.push(Object.assign({},i,{packId:t,id:p_({id:i.id,type:i.type})}))}catch(e){console.error((e=>e instanceof Error?e:new Error(String(e)))(e).message,`rid: ${t}, itemId: ${n.id}, itemType: ${null==n?void 0:n.type}, itemCardType: ${n.card_type}`)}var r;return e}),[]);return n.length>0?n:null},d_=e=>{return e?(t=e,Object.assign({},t,{channelOwnerUid:parseInt(t.channelOwnerUid,10),type:f.GIF,video:Ys(t),feedback:Ni(t.feedbackInfo),receiveTime:Date.now()})):null;var t},p_=e=>{let{id:t,type:n}=e;return t||y(n)},__=e=>{var t,n,r,i;const o=u_(e.items||[],e.rid),{widgets:c}=e,l=null!=c&&c.card_news?c.card_news:e.card_news,u=null!=c&&c.watching_continuation_item?c.watching_continuation_item:e.watching_continuation_item,d=null!=c&&c.card_top5?c.card_top5:e.card_top5,p=null!=c&&c.informers?c.informers:e.informers,_=null!=c&&c.showcase_tabs?c.showcase_tabs:e.showcase_tabs,m=null!=c&&c.tsar_banner?c.tsar_banner:e.tsar_banner,h=null!=c&&c.showcase_originals_mega_banners?c.showcase_originals_mega_banners:e.showcase_originals_mega_banners,f=(e=>{if(e)return s(uu,e,"data Ð² ÐºÐ°ÑÑÐ¾ÑÐºÐµ small-card")})(null==c?void 0:c.small_card),b=null!=c&&c.showcase_originals_content_banner?c.showcase_originals_content_banner:e.showcase_originals_content_banner,v=e.sidebar_items||[];(null==c?void 0:c.sidebar_showcase_block)&&v.push(c.sidebar_showcase_block);const g=u_(v,e.rid),y=((e,t)=>{if(!e)return{status:ep.Feed};switch(e.status){case ep.Banned:case ep.NotFound:return{status:e.status};case ep.Ok:{const{social_csrf_token:n}=e;return{status:ep.Ok,packId:t,socialCsrfToken:n,source:Ss(e)}}default:return console.error("Broken channel from backend"),{status:ep.Feed}}})(e.channel,e.rid),O=d_(e.video),S=Op({items:e.video_shorts||[]}),I=(e=>e?s(dp,e,"ÐÐµÐ¾Ð±Ð»Ð¾Ðº: Ð¿Ð¾Ð³Ð¾Ð´Ð°"):null)((null==c?void 0:c.geo_weather)||e.weather),w=(K=e.geo_info)?s(pp,K,"ÐÐµÐ¾Ð±Ð»Ð¾Ðº: Ð³Ð¾ÑÐ¾Ð´"):null,T=(W=e.geo_info_ip)?s(pp,W,"ÐÐµÐ¾Ð±Ð»Ð¾Ðº: Ð³Ð¾ÑÐ¾Ð´ Ð¿Ð¾ IP"):null,C=(e=>e?s(Ep,e,"ÐÐ»Ð¾Ðº Ð´Ð¾ÑÐ¼Ð¾ÑÑÐ° Ð²Ð¸Ð´ÐµÐ¾"):null)(u),E=(q=d)?s(Np,q,"ÐÐ»Ð¾Ðº ÑÐ¾Ð¿ ÐºÐ¾Ð½ÑÐµÐ½ÑÐ° Ð² Ð¿ÑÐ°Ð²Ð¾Ð¼ ÑÐ°Ð¹Ð´Ð±Ð°ÑÐµ"):null,P=(e=>e?s(Bp,e,"Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°ÑÐ¸Ð¸ Ð¿Ð¾ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÐ°Ð¼ Ð² Ð¿ÑÐ°Ð²Ð¾Ð¼ ÑÐ°Ð¹Ð´Ð±Ð°ÑÐµ, ÑÐµÐ´Ð¸Ð·Ð°Ð¹Ð½ Ð´Ð»Ñ Ð¿ÑÐ½ÑÐ°"):null)(e.punch_channels_recommended),x=(e=>{var t;if(!e||!e.stocks)return null;const n={rates:(null==(t=e.stocks)?void 0:t.data)||[],bulk_params:e.bulk_params||""};return s(Ap,n,"ÐÐ¸Ð´Ð¶ÐµÑ: ÐºÑÑÑ Ð²Ð°Ð»ÑÑ")})(p),D=(e=>{if(e)return s(Rp,e,"data in punch_feed")})(e.punch_feed),N=e.morda_type?s(xp,e.morda_type,"Ð¾ÑÐ¸Ð±ÐºÐ° Ð¿Ð°ÑÑÐ¸Ð½Ð³Ð° morda_type"):void 0,j=(e=>{if(e)return s(Bl,e,"data Ð² ÐºÐ°ÑÑÐ¾ÑÐºÐµ news")})(l),L=(e=>{if(e)return s(Fu,e,"Ð¾ÑÐ¸Ð±ÐºÐ° Ð¿Ð°ÑÑÐ¸Ð½Ð³Ð° showcase_tabs")})(_),B=(e=>e?s(jp,e,"Ð¦Ð°ÑÑ-Ð±Ð°Ð½Ð½ÐµÑ Ð½Ð° ÑÐ°ÑÐ°Ñ Ð¸ Ð´ÐµÑÐºÑÐ¾Ð¿Ðµ"):null)(m),V=(e=>{if(e)return s(Mp,e,"ÐÐ¾Ð»Ðµ categories_config")})(e.categories_config),M=(e=>{if(e)return s(Gp,e,"data in thematic_info_item")})(e.thematic_info_item),F=((e,t)=>{if(!e)return;const n=s(e_,e,"data in game_catalog_info");return Object.assign({},n,{gameCatalog:Object.assign({},n.gameCatalog,{games:n.gameCatalog.games.map((e=>Object.assign({},e,{packId:t})))})})})(e.game_catalog_info,e.rid),z=(e=>{if(e)return s($p,e,"ÐÐ¾Ð»Ðµ seo_info")})(e.seo_info),H=(e=>{if(e)return s(r_,e,"Ð¢Ð°Ð±Ñ Ð½Ð° ÑÑÑÐ°Ð½Ð¸ÑÐµ Ð¿Ð¾Ð¸ÑÐºÐ° Ð½Ð° ÑÐ°ÑÐ°Ñ Ð¸ Ð´ÐµÑÐºÑÐ¾Ð¿Ðµ")})(e.search_tabs),G=(e=>{try{return e.map(Ti).filter(Boolean)}catch(e){return}})(e.ad_items),$=e.pinned_items?(e=>s(a_,e,"Ð¿Ð°ÑÑÐ¸Ð½Ð³ Ð¿Ð¾Ð»Ñ export.pinnedItems Ð² ÐºÐ°Ð½Ð°Ð»Ðµ"))(e.pinned_items):void 0;var q,W,K,Y,Z;return{rid:e.rid,categoriesConfig:V,thematicInfoItem:M,gameCatalogInfo:F,seoInfo:z,receivedAt:e.received_at||0,ttl:1e3*(e.ttl||0),storeTtl:1e3*(e.store_ttl||0),source:e.sf,adFlightId:e.ad_flight_id,adArticleId:e.ad_article_id,publisherId:e.publisher_id,adSecdata:e.ad_secdata,channel:y,suite:e.suite?a(lo,e.suite,"suite"):void 0,suitesData:e.suites_data,channelPixels:e.channel_pixels,items:o,sidebarItems:g,video:O,videoShorts:S,punchFeed:D,feedbackCacheClean:Boolean(e.feedback_cache_clean),experimentsData:e.experiments_data||null,feedFeatureConfig:e.feed_feature_config||null,groupIds:e.group_ids||"",buckets:e.buckets||{},clientDefinition:e.client_definition||null,user:Object.assign({},Kd(e.user),{avatar:e.user_avatar}),currentUserRecommendations:ap(e.current_user_recommendations),currentUserSubscriptions:sp(e.current_user_subscriptions),currentUserSourceInfo:cp(e.current_user_source_info),screens:l_(e),bannerMain:gp(e.ssr_banner),distribution:fp(e.ssr_banner),complaints:up(e.complaints),bulk:e.bulk,mordaType:N,cardNews:j,smallCard:f,showcaseTabs:L,bulkData:e.bulk_data?a(U(R),e.bulk_data,"bulkData"):void 0,bulkQueryParams:e.bulk_query_params?a(U(No({string:k,number:A})),e.bulk_query_params,"bulkQueryParams"):void 0,more:{link:null==(t=e.more)?void 0:t.link},gridType:{name:null==(n=e.grid_type)?void 0:n.name},interview:e.interview?a(Uc,e.interview,"interview"):void 0,clicksCount:e.clicks_count,pinnedPublicationIds:e.pinned_publication_ids,orderedIds:e.ordered_ids,maxPinnedItems:e.max_pinned_items,pinnedItems:$,weather:I,city:w,cityByIP:T,continueWatchingItem:C,topContentDesktopItem:E,punchChannelsRecommended:P,currencyRates:x,loginLink:null==(r=e.links)?void 0:r.login,tabs:e.tabs,searchTabs:H,sortType:e.sort_type,adItems:G,adPixelsLink:e.ad_pixels_link,adPixelsData:e.ad_pixels_data,auth:{isAuthorized:Boolean(null==(i=e.auth)?void 0:i.is_authorized)},shouldShowToFeedButton:e.should_show_to_feed_button,freshSubscriptionsCount:e.fresh_subscriptions_count,pageCount:e.page_count,promoPublishers:e.promo_publishers,tsarBanner:B,isSmallerBatch:e.is_smaller_batch,originalsContentBanner:(Z=b,Z?s(o_,Z,"ÐÐ»Ð¾Ðº Ð¾ÑÐ¸Ð´Ð¶Ð¸Ð½Ð°Ð»Ñ"):null),showcaseOriginalsMegaBanners:(Y=h,Y?s(c_,Y,"ÐÑÐ¾Ð¼Ð¾ Ð±Ð°Ð½Ð½ÐµÑ"):null),sessionStartTs:e.session_start_ts||null}},m_=e=>{try{return decodeURIComponent(e)}catch(e){return null}},h_=/[?&]([^&#]*)/,f_=e=>{const t={},n=e.indexOf("?");if(-1===n)return t;let r=n;for(;;){const n=e.slice(r).match(h_);if(!n)break;r+=n[0].length;const[i,o]=n[1].split("=");if(!i||!o)continue;const a=m_(i),s=m_(o);a&&s&&(t[a]=s)}return t},b_=e=>{const t=(n=e,Object.keys(n));var n;return 0===t.length?"":t.reduce(((t,n)=>{const r=e[n];return n&&void 0!==r?`${t}${0===t.length?"?":"&"}${encodeURIComponent(n)}=${encodeURIComponent(r)}`:t}),"")},v_=(e,t)=>{const n=Object.assign({},f_(e),t),r=e.indexOf("?"),i=e.indexOf("#"),o=-1!==i?i:e.length,a=-1!==r?r:o;return e.slice(0,a)+b_(n)+e.slice(o)},g_=["params","timeout","credentials"],y_="application/json",O_=e=>{const{ok:t,url:n,status:r,statusText:i}=e;if(!t)throw new Error(`${n} ${r} (${i})`);return(e=>{const t=e.headers.get("Content-Type");return t&&t.includes(y_)?e.json():e.text()})(e)},S_=function(e,t){void 0===t&&(t={});const{params:n,timeout:r=6e4,credentials:i="include"}=t,o=di(t,g_),a=n?v_(e,n):e;return new Promise(((e,t)=>{fetch(a,Object.assign({credentials:i},o)).then(O_).then(e,t),(e=>new Promise((t=>{setTimeout(t,e)})))(r).then((()=>{t(new Error("Request timeout."))}))}))},I_=function(e,t){return void 0===t&&(t={}),S_(e,Object.assign({},t,{method:"GET",params:Object.assign({},t.params||{},{rnd:String(Date.now())})}))},w_=function(e){void 0===e&&(e={});const t=Object.assign({Accept:y_},e.headers),{method:n="POST"}=e;let{body:r}=e;return t["Content-Type"]||r instanceof FormData||(t["Content-Type"]=y_,r&&"string"!=typeof r&&(r=JSON.stringify(r))),Object.assign({},e,{method:n,headers:t,body:r})},k_=function(e,t){return void 0===t&&(t={}),S_(e,w_(t))},A_=function(e,t){return void 0===t&&(t={}),S_(e,w_(Object.assign({},t,{method:"PUT"})))},T_=function(e,t){return void 0===t&&(t={}),S_(e,w_(t))},C_=e=>{let{userInfo:t,zenFeatures:n}=e;const r={};return t&&t.oauthToken&&(r.Authorization=`OAuth ${t.oauthToken}`),Object.keys(n||{}).length>0&&(r["Zen-Features"]=JSON.stringify(Object.assign({},n,{web_ntp_version:E_()}))),r},E_=()=>{if("undefined"==typeof window||!window)return;const e=window;return"string"==typeof e.WEB_NTP_VERSION?e.WEB_NTP_VERSION:void 0};let P_,R_;!function(e){e.Export="export",e.Layout="layout",e.More="more",e.Bulk="bulk",e.Subs="subs",e.CountryLang="language",e.Blocked="blocked",e.Preferences="preferences",e.Category="category",e.Categories="categories",e.Suggest="suggest",e.BlockedSuggest="blocked_suggest",e.VideoRecommend="video_recommend",e.VideoRelated="video_related",e.VideoFeed="video_more",e.VideoExport="video_export",e.GetVideoViewerData="get_video_popup_data",e.PublisherConfig="publisher_config",e.CommentsCounter="comments_counter",e.SendAppLinkSms="send_app_link_sms",e.SocialProfile="social_profile",e.SendNativeComplainStats="send_native_complain_stats",e.AllChannelsLink="all_channels_link",e.CurrentUserSubscriptions="current-user-subscriptions",e.Teasers="teasers",e.SupportLink="support_link",e.ArticleRelated="article-related",e.ZenSearch="zen-search",e.Videos="videos",e.GetFeedPublications="get-feed-publications"}(P_||(P_={})),function(e){e.Video="video",e.Shorts="shorts"}(R_||(R_={}));Object.keys(P_).reduce(((e,t)=>(e[t]=null,e)),{});const x_=e=>{const t=f_(e);return{experiment:t.experiment,excludeExperiments:t.excludeExperiments,telemetry:t.telemetry}},D_=e=>{let{clid:t,referrerClid:n,referrerPlace:r,countryCode:i}=e;const o="undefined"!=typeof window?x_(window.location.href):{};return Object.assign({},o,{clid:t,country_code:i,referrer_clid:n,referrer_place:r})},N_=e=>{const t={};return e.partnerId&&(t.partner_user_id=String(e.partnerId)),e.adId&&(t.user_ad_id=String(e.adId)),t},j_={[P_.Export]:"export",[P_.VideoFeed]:"video-more",[P_.VideoExport]:"video-export",[P_.Layout]:"layout",[P_.Teasers]:"teasers",[P_.PublisherConfig]:"publisher-config",[P_.CurrentUserSubscriptions]:"current-user-subscriptions",[P_.ArticleRelated]:"article-related",[P_.ZenSearch]:"zen-search",[P_.Videos]:"videos/__public_id__",[P_.GetFeedPublications]:`${P_.GetFeedPublications}?ids=__publication_id__&publisherId=__publisher_id__`},L_={[P_.SendNativeComplainStats]:"api/v4/stats/common"};class B_ extends Error{}const U_=(e,t,n)=>{const r=j_[e];if(r){const e=F_(t),n=(e=>{let{clid:t,referrerClid:n,referrerPlace:r,countryCode:i,channelName:o,channelId:a,interestName:s,socialProfileId:c,feedFilterType:l,userInfo:u={},articleId:d,itemType:p,itemId:_,sourceId:m,sourceType:h}=e;return Object.assign({},D_({clid:t,referrerClid:n,referrerPlace:r,countryCode:i}),N_(u),{channel_name:o,channel_id:a,interest_name:s,social_profile_id:c,feed_filter_type:l,article_id:d,item_type:p,item_id:_,source_id:m,source_type:h})})(e);return V_(e.host,r,n)}const i=L_[e];if(i){const e=F_(t),n=D_(e);return M_(e.host,i,n)}const o=n&&n[e];if(!o)throw new B_(`ZenApi ${e} url is not configured.`);return o},V_=(e,t,n)=>v_(`${e}api/v3/launcher/${t}`,n),M_=(e,t,n)=>v_(`${e}${t}`,n),F_=e=>{if(!e.clid)throw new B_("ZenApi clid is not configured.");if(!e.host)throw new B_("ZenApi host is not configured.");return{host:e.host,clid:e.clid,countryCode:e.countryCode||void 0,columnCount:e.columnCount,referrerClid:e.referrerClid,referrerPlace:e.referrerPlace,userInfo:e.userInfo,channelName:e.channelName,interestName:e.interestName,channelId:e.channelId,socialProfileId:e.socialProfileId,feedFilterType:e.feedFilterType,articleId:e.articleId,sourceId:e.sourceId,itemId:e.itemId,itemType:e.itemType,sourceType:e.sourceType}},z_=(e,t)=>{const{type:n,host:r,makeApiRequest:i=H_,clid:o,referrerClid:a,referrerPlace:s,countryCode:c,userInfo:l,zenFeatures:u,clientExperiments:d,articleId:p,columnCount:_,itemId:m,itemType:h,sourceId:f,sourceType:b}=e;return i(U_(n,{clid:o,countryCode:c,host:r,referrerClid:a,referrerPlace:s,userInfo:l,articleId:p,itemId:m,itemType:h,sourceId:f,sourceType:b,columnCount:_}),t,{userInfo:l,zenFeatures:u,clientExperiments:d}).then((e=>Object.assign({},e,{received_at:Date.now()})))},H_=(e,t,n)=>{const r=((e,t)=>{const{method:n,params:r,mode:i,headers:o}=e,a={params:r,headers:Object.assign({},t?C_(t):{},o),mode:i,method:n};return e.body?Object.assign({},a,{body:e.body}):a})(t,n),{method:i,body:o}=r,a=G_(i,o);return $_(a)(e,r)},G_=(e,t)=>e?t&&"GET"===e?"POST":e:t?"POST":"GET",$_=e=>{switch(e){case"PUT":return A_;case"POST":return k_;case"DELETE":return T_;default:return I_}},q_=e=>{let{requestConfig:t,requestOptions:n,requestProvider:r,responseParser:i}=e;return r(t,n).then((e=>({apiResponse:e,parsedApiResponse:i(e)})))},W_=e=>{let{source:t,container:n,withoutBlockingRender:r=!0}=e;return new Promise(((e,i)=>{const o=document.createElement("link");var a;o.rel="stylesheet",o.href=t,o.media=r?"inapplicable":"all",o.onload=()=>{r&&(o.media="all"),e(o)},o.onerror=()=>{n.removeChild(o),i(new Error(`Failed to load css: '${t}'.`))},a=()=>n.appendChild(o),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e),a()})):a()}))},K_=e=>{let{source:t,container:n,asyncAttr:r=!0,defer:i=!1}=e;return new Promise(((e,o)=>{const a=document.createElement("script");a.src=t,a.async=r,a.defer=i,a.crossOrigin="anonymous",a.onload=()=>{e(a)},a.onerror=()=>{n.removeChild(a),o(new Error(`Failed to load script: '${t}'.`))},n.appendChild(a)}))},Y_=e=>{const{appPackageUrl:t,bundleName:n,target:r}=e;return`${t}/${n}.${r}.css`},Z_=e=>{const{appPackageUrl:t,bundleName:n,target:r,lang:i}=e;return`${t}/${function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(".")}(n,r,i,"bundle","js")}`},X_=Object.entries,J_=e=>(t,n)=>{const r=n.find((n=>{let{conditions:r}=n;return X_(r).every((n=>{let[r,i]=n;const o=t[r],a=e[r];return!(!o||!i)&&a(String(o),i)}))}));return r?r.target:null},Q_=(e,t)=>((e,t)=>{const n=[e,t].map((e=>e.split(".").map((e=>parseInt(e,10))))),r=n[0],i=n[1],o=Math.min(r.length,i.length);for(let e=0;e<o;e++){const t=r[e],n=i[e];if(t!==n)return t>n?1:-1}return 0})(e,t)>=0,em=(e,t)=>!Q_(e,t),tm=J_({BrowserName:Object.is,BrowserVersion:Q_,BrowserBase:Object.is,BrowserBaseVersion:Q_,BrowserEngine:Object.is,BrowserEngineVersion:Q_,OSFamily:Object.is,OSVersion:Q_}),nm=J_({BrowserName:Object.is,BrowserVersion:em,BrowserBase:Object.is,BrowserBaseVersion:em,BrowserEngine:Object.is,BrowserEngineVersion:em,OSFamily:Object.is,OSVersion:em});let rm;!function(e){e[e.Desktop=0]="Desktop",e[e.Tablet=1]="Tablet",e[e.Mobile=2]="Mobile"}(rm||(rm={}));const im=e=>e.isIzenkit||e.isZenkit?rm.Mobile:e.isTablet?rm.Tablet:e.isMobile&&e.isTouch?rm.Mobile:rm.Desktop;let om;!function(e){e.Modern="modern",e.Legacy="legacy",e.Node="node"}(om||(om={}));const am="55",sm="55",cm="13",lm="42",um="45",dm="4.4",pm="17.3.0.1",_m="12.0",mm=(om.Modern,om.Legacy,om.Node,[{target:om.Modern,conditions:{BrowserBase:"Chromium",BrowserBaseVersion:am}},{target:om.Modern,conditions:{BrowserBase:"Chrome",BrowserBaseVersion:am}},{target:om.Modern,conditions:{BrowserName:"YandexBrowser",BrowserVersion:pm}},{target:om.Modern,conditions:{BrowserName:"Firefox",BrowserVersion:sm}},{target:om.Modern,conditions:{BrowserName:"Safari",BrowserVersion:"13"}},{target:om.Legacy,conditions:{BrowserBase:"Chromium",BrowserBaseVersion:lm}},{target:om.Legacy,conditions:{BrowserBase:"Chrome",BrowserBaseVersion:lm}},{target:om.Legacy,conditions:{BrowserName:"MSIE",BrowserVersion:"11"}},{target:om.Legacy,conditions:{BrowserName:"Edge",BrowserVersion:"12"}},{target:om.Legacy,conditions:{BrowserName:"Firefox",BrowserVersion:um}},{target:om.Legacy,conditions:{BrowserName:"Safari",BrowserVersion:"9"}}]),hm=mm.filter((e=>e.target===om.Legacy)).concat({target:om.Legacy,conditions:{BrowserEngine:"Presto"}}),fm=[{target:om.Modern,conditions:{BrowserBase:"Chromium",BrowserBaseVersion:am}},{target:om.Modern,conditions:{BrowserBase:"Chrome",BrowserBaseVersion:am}},{target:om.Modern,conditions:{BrowserName:"ChromeMobile",BrowserVersion:am,OSFamily:"Android",OSVersion:dm}},{target:om.Modern,conditions:{BrowserName:"YandexBrowser",BrowserVersion:pm,OSFamily:"Android",OSVersion:dm}},{target:om.Modern,conditions:{BrowserName:"YandexSearch",BrowserVersion:_m,OSFamily:"Android",OSVersion:dm}},{target:om.Modern,conditions:{BrowserName:"YandexSearch",BrowserVersion:_m,OSFamily:"iOS",OSVersion:cm}},{target:om.Modern,conditions:{BrowserName:"MobileFirefox",BrowserVersion:sm}},{target:om.Modern,conditions:{BrowserName:"MobileSafari",OSFamily:"iOS",OSVersion:cm}},{target:om.Modern,conditions:{BrowserBase:"Safari",OSFamily:"iOS",OSVersion:cm}},{target:om.Legacy,conditions:{BrowserBase:"Chromium",BrowserBaseVersion:lm}},{target:om.Legacy,conditions:{BrowserBase:"Chrome",BrowserBaseVersion:lm}},{target:om.Legacy,conditions:{BrowserName:"MobileFirefox",BrowserVersion:um}},{target:om.Legacy,conditions:{OSFamily:"Android",OSVersion:dm}},{target:om.Legacy,conditions:{OSFamily:"iOS",OSVersion:"7"}}],bm=fm.filter((e=>e.target===om.Legacy)),vm=[{target:om.Modern,conditions:{BrowserBase:"Chromium",BrowserBaseVersion:am}},{target:om.Modern,conditions:{BrowserBase:"Chrome",BrowserBaseVersion:am}},{target:om.Modern,conditions:{BrowserName:"ChromeMobile",BrowserVersion:am,OSFamily:"Android",OSVersion:dm}},{target:om.Modern,conditions:{BrowserName:"YandexBrowser",BrowserVersion:pm,OSFamily:"Android",OSVersion:dm}},{target:om.Modern,conditions:{BrowserName:"YandexSearch",BrowserVersion:_m,OSFamily:"Android",OSVersion:dm}},{target:om.Modern,conditions:{BrowserName:"YandexSearch",BrowserVersion:_m,OSFamily:"iOS",OSVersion:cm}},{target:om.Modern,conditions:{BrowserName:"MobileFirefox",BrowserVersion:sm}},{target:om.Modern,conditions:{BrowserName:"MobileSafari",OSFamily:"iOS",OSVersion:cm}},{target:om.Modern,conditions:{BrowserBase:"Safari",OSFamily:"iOS",OSVersion:cm}},{target:om.Legacy,conditions:{BrowserBase:"Chromium",BrowserBaseVersion:lm}},{target:om.Legacy,conditions:{BrowserBase:"Chrome",BrowserBaseVersion:lm}},{target:om.Legacy,conditions:{BrowserName:"MobileFirefox",BrowserVersion:um}},{target:om.Legacy,conditions:{OSFamily:"Android",OSVersion:dm}},{target:om.Legacy,conditions:{OSFamily:"iOS",OSVersion:"7"}}],gm=vm.filter((e=>e.target===om.Legacy)),ym=(e,t)=>Boolean(nm(e,t));let Om,Sm,Im;!function(e){e.bright="bright",e.black="black",e.white="white",e.portal="portal"}(Om||(Om={})),function(e){e.light="light",e.dark="dark"}(Sm||(Sm={})),function(e){e.light="light",e.dark="dark",e.system="system"}(Im||(Im={}));const wm={no_amp_links:!0,forced_bulk_stats:!0,blurred_preview:!0,big_card_images:!0,complaints_with_reasons:!0,pass_experiments:!0,video_providers:["yandex-web","youtube","youtube-web"],screen:{dpi:241,width:"undefined"!=typeof window?window.innerWidth:0,height:"undefined"!=typeof window?window.innerHeight:0},need_background_image:!0,color_theme:Om.white,no_small_auth:!0,need_main_color:!0,need_zen_one_data:!0,interests_supported:!0,return_sources:!0,screens:["feed","category","categories","profile","switchable_subs","suggest","multisearch","blocked","preferences","subscribers","blocked_suggest","video_recommend","video_related","language","send_app_link_sms","comments_counter","comments_infos","social_profile","social_profile_edit","social_interests_feedback","profile_onboarding_shown","profile_complete_onboarding","profile_deactivate","profile_cancel_deactivate","get_video_popup_data","get_online_viewer_count","video_more"],stat_params_with_context:!0,carousel_support:!0},km="https://dzen.ru/",Am={zenlibPubArticleDesktop:{appName:"zenlib-pub-article-desktop",bundleName:"app",columnCount:3},zenlibPubArticleMobile:{appName:"zenlib-pub-article-mobile",bundleName:"app",columnCount:1}},Tm=new e,Cm=new e,Em=Cm.on.bind(Cm),Pm=Cm.off.bind(Cm),Rm={create:e=>{const{clid:t,theme:n,lang:r,countryCode:i,libType:o,exps:a=[],isVideoDisabled:s,initialDisplayedRowsNumber:c=3,referrerClidResetTimeout:l,feedFilter:u,afterLoginSubscribe:d,afterLoginLike:p,host:_=km,referrerClid:m,referrerPlace:h,columnCount:f,uatraits:b,appPackageUrl:v,articleId:g,articleSourceId:y}=e,O=(e=>{const t="undefined"!=typeof document&&document.location.host||void 0;return null!=t&&t.includes("dzen")?e.replace(/^([^/]*\/\/)?([^/]+)(\/|$)/,`$1${t}$3`):e})(_),{bundleName:S,columnCount:I}=Am[o],w=function(e){void 0===e&&(e={});const{columnCount:t,theme:n,isVideoDisabled:r,screen:i,disabledYandexBlockIds:o,redesign:a}=e,s=Object.assign({},wm,{color_theme:n,screen:{width:(null==i?void 0:i.width)||wm.screen.width,height:(null==i?void 0:i.height)||wm.screen.height,dpi:(null==i?void 0:i.dpi)||wm.screen.dpi},redesign:a});return r&&(s.no_videos=!0,delete s.video_providers),o&&(s.disabled_yandex_block_ids=o),t&&(s.column_count=t),s}({columnCount:f||I,theme:n,isVideoDisabled:s}),k=(e=>{var t,n,r;if(e.isRobot)return om.Legacy;switch(im(e)){case rm.Desktop:return ym(e,hm)?null:null!=(t=tm(e,mm))?t:om.Legacy;case rm.Tablet:return ym(e,bm)?null:null!=(n=tm(e,fm))?n:om.Legacy;case rm.Mobile:return ym(e,gm)?null:null!=(r=tm(e,vm))?r:om.Legacy}})(b);if(!k)throw new Error("Zen Library does not support current browser");const A={appPackageUrl:v,bundleName:S,target:k,lang:r};return Promise.all([(T={host:O,clid:t,referrerClid:m,countryCode:i,clientExperiments:a,zenFeatures:w,userInfo:{},itemId:g,sourceId:y,itemType:"native",sourceType:"publisher"},void 0===C&&(C={}),q_({requestConfig:Object.assign({type:P_.ArticleRelated},T),requestOptions:C,requestProvider:z_,responseParser:__})),K_({source:Z_(A),container:document.head}).then((()=>(e=>{const t=e.YandexZen&&e.YandexZen.app;if(!t)throw new Error("App has not been loaded correctly.");return t})(window))),W_({source:Y_(A),container:document.head})]).then((e=>{var n;let[{parsedApiResponse:o},s]=e;const _={host:O,clid:t,referrerClid:m,referrerPlace:h,countryCode:i,lang:r,zenFeatures:w,clientExperiments:a,feedFilter:u,exps:a,initialDisplayedRowsNumber:c,referrerClidResetTimeout:l,afterLoginSubscribe:d,afterLoginLike:p,appPackageUrl:v};if(o.items&&0!==(null==o||null==(n=o.items)?void 0:n.length))return s.init(_,o),s})).catch((e=>{throw console.error(e),e}));var T,C},on:Em,off:Pm,addListener:Em,removeListener:Pm,trigger:Tm.emit.bind(Tm)}})(),(window.YandexZen=window.YandexZen||{}).loader=r.default})();